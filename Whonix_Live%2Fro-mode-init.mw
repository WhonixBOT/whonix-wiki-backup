{{Header}}
{{Title|
title=Whonix Live-mode - Alternative ro-mode-init Configuration
}}
{{#seo:
|description=Whonix Live System
|og:image=https://www.whonix.org/w/images/f/ff/Whonixlive.jpg
}}
{{Maintainer|
|status=testing
|about=About this {{Code2|{{PAGENAME}}}} Page
|difficulty=medium
|maintainer=[https://forums.whonix.org/u/algernon Algernon]
|support=[[Support]]
}}

{{mbox
| image   = [[File:Ambox_warning_pn.svg.png|40px]]
| text    = 
As an alternative in [[VirtualBox]] or [[KVM]], it is also possible to automatically detect if the disk is set to read-only and enable live mode automatically using the <code>ro-mode-init</code> package.
}}

{{Box|text=
Backup.
{{Box|text=
'''Option 1:''' Create a snapshot of your VM. '''OR'''
}}

{{Box|text=
'''Option 2:''' Alternatively backup the <code>/boot</code> folder.

{{CodeSelect|code=
sudo cp -a /boot /boot.back
}}}}
}}

{{Box|text=
Install <code>ro-mode-init</code>.

{{Box|text=
[[Update]] the package lists.

{{CodeSelect|code=
sudo apt-get update
}}

Upgrade the system.

{{CodeSelect|code=
sudo apt-get dist-upgrade
}}

Install the <code>ro-mode-init</code> package.

{{CodeSelect|code=
sudo apt-get install ro-mode-init
}}
}}
}}

{{mbox
| image   = [[File:Ambox_warning_pn.svg.png|40px]]
| text    = 
For this option the VM disk needs to be set to read-only, otherwise it will always boot into persistent mode.
}}

== VirtualBox ==
=== Read-only disk on VirtualBox ===

{{Box|text=
1. Power off the machine.

2. From the command line run.

{{CodeSelect|code=
VBoxManage setextradata vmname "VBoxInternal/Devices/lsilogicsas/0/LUN#0/AttachedDriver/Config/Readonly" 1
}}

to set the disk to read-only with "vmname" being the name of your virtual machine e.g. Whonix-Gateway.
}}

=== Read-write disk on VirtualBox ===
{{Box|text=
To boot into normal mode again, simply revert this change.

{{Box|text=
1. Power off the machine.

2. From the command line run.

{{CodeSelect|code=
VBoxManage setextradata vmname "VBoxInternal/Devices/lsilogicsas/0/LUN#0/AttachedDriver/Config/Readonly" 1
}}

to set the disk to read-only with "vmname" being the name of your virtual machine e.g. Whonix-Gateway.

3. Set read-write.

{{CodeSelect|code=
VBoxManage setextradata vmname "VBoxInternal/Devices/lsilogicsas/0/LUN#0/AttachedDriver/Config/Readonly"
}}
}}
}}

== KVM ==
=== Read-only disk on KVM ===
{{Box|text=
To boot into live mode, apply the following steps.

{{Box|text=
1. Power off the machine.

2. Set the hard disk to read-only in the virt-manager GUI.

3. Power on the machine and select to boot into live mode.
}}
}}

=== Read-write disk on KVM ===
{{Box|text=
To boot into normal mode again, simply revert this change.

{{Box|text=
1. Power off the machine.

2. Set the hard disk to read-write in the virt-manager GUI.

3. Power on the machine and boot into read-write mode.
}}
}}

= Footnotes =
{{reflist|close=1}}
[[Category:Documentation]]
{{Footer}}

{{Header}}
{{#seo:
|description=It is possible to run Virtual Machines inside Virtual Machines (VMs). That is called Nested Virtualization.
|image=https://www.whonix.org/w/images/c/c0/Mastomys-332686640.jpg
}}

= Introduction =
It is possible to run Virtual Machines inside Virtual Machines (VMs). That is called Nested Virtualization. <ref>http://en.wikipedia.org/wiki/Nested_virtualization</ref>

= Qubes =
Running VirtualBox, KVM or Qubes inside Qubes is difficult. Not offically supported by the Qubes developers. It is unrelated to Whonix. You can learn more about the current state of things by searching the qubes-devel and qubes-users mailing lists for terms such as VirtualBox, KVM and/or nested virtualization.

= KVM =
TODO document

* https://www.whonix.org/wiki/Dev/KVM#Nested_Virtualization
* https://forums.whonix.org/t/nested-virtulization-needs-64-bit-whonx-guest

= VirtualBox inside VirtualBox =
Be sure to change your host key. {{Code2|VirtualBox -> Preferences -> Input -> Host Key}}. The "outside" and the "inside" Host Key must differ, otherwise you can not leave the VM "inside" anymore.

Using ACPI <ref>{{Code|vboxmanage "Whonix-Workstation" modifyvm --acpi on}}</ref> and IOAPIC <ref>{{Code2|VirtualBox -> right click on VM -> Settings -> System -> uncheck "Enable IO APIC"}}</ref> <ref>{{Code|vboxmanage "Whonix-Workstation" modifyvm --ioapic on}}</ref> for all VM's, speeds up the "inside" VM a lot. These settings are in use for Whonix VMs by default.

VirtualBox does not support VT in VT yet. <ref>https://www.virtualbox.org/ticket/4032</ref> So the "inside" VM might be slow depending on your host's performance. Inside the "inside" VM, disable VT. {{Code2|VirtualBox -> right click on VM -> Settings -> System -> Acceleration -> uncheck "Enable VT-x/AMD-V"}}

Forum discussion:<br />
https://forums.whonix.org/t/nested-visualization-with-whonix-vbox-windows-7-inside-whonix-ws

= See Also =
* [[Other Operating Systems]]

= Footnotes =
{{reflist|close=1}}

[[Category:Documentation]]

{{Footer}}

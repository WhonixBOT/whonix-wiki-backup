{{Header}}
{{#seo:
|description=Using a Tor Controller with Whonix. Arm. Vidalia. Change your Tor circuit. Monitor Tor.
}}

= Tor Controller =

Three options. {{Code|arm}}, {{Code|tor-ctrl}} or {{Code|Vidalia}}. {{Code|arm}} and {{Code|tor-ctrl}} are already {{Code2|pre-installed}} on Whonix.

'''{{Code|arm}} is {{Code2|recommended}}.'''

= Vidalia =

'''Not recommended.'''<ref>
{{Anchor|Vidalia_recommended_against}}
Vidalia is recommended against, because:

* Because instructions getting it to work in Whonix have not tested since Whonix 0.1.3. There will probably be no anonymity issues, but the instructions may not work out of the box.
* Vidalia is unmaintained (no one is working on it anymore). Vidalia has been removed from Tor Browser Bundle 3.x by The Tor Project. So this project is pretty much dead anyway.
* Vidalia has issues with controlling Tor, i.e. Vidalia can't stop the Tor which comes from the Debian package, which is started as user "debian-tor". It also can not edit {{Code2|/etc/tor/torrc}}. Not sure if control commands such as New Idenity are correctly processed (easy to find out).
* Vidalia does not understand obfuscated bridges.
* Which overall makes a pretty bad and confusing user experience. Therefore recommended against.
* However, if it's Vidalia's nice network map you're after, you may be able to get it working.
</ref> Better use Arm. See below.

<font size="-3">See [[Vidalia]].</font>

= Arm =
Since Whonix does not include Vidalia, Arm is '''recommended'''. It's already pre-installed on Whonix-Gateway.

[[Image:screenshot_arm_page1_cropped.png|arm, Tor Controller|thumb]]

If you are using a <u>graphical</u> Whonix-Gateway, go to:

<pre>
Start Menu -> Applications -> System -> Arm
</pre>

If you are using a <u>terminal</u> Whonix-Gateway:

<pre>
arm
</pre>

To get a new circuit, press:

<pre>
n
</pre>

To exit arm, press:

<pre>
q
q
</pre>

== Arm FAQ ==
* <blockquote>Tor is preventing system utilities like netstat and lsof from working. This means that arm can't provide you with connection information. You can change this by adding 'DisableDebuggerAttachment 0' to your torrc and restarting tor. For more information see... https://trac.torproject.org/3313</blockquote>: --> Not of concern. If you want to learn about the technical details, read https://trac.torproject.org/3313.
* DisableDebuggerAttachment even when running as root:
This is a [https://trac.torproject.org/projects/tor/ticket/7709 bug] in arm.
* <blockquote>man page (GENERAL OPTIONS and COMMAND-LINE OPTIONS)</blockquote> --> This is not of concern. This is a bug in arm.
* <blockquote>[WARN] Socks version 71 not recognized. (Tor is not an http proxy.)</blockquote> --> This is caused by [[whonixcheck]]. It checks if a Tor SocksPort is reachable by trying to fetch it using curl. It will not report anything if it worked, but would complain if it failed.
* <blockquote>[WARN] Rejecting request for anonymous connection to private address [scrubbed] on a TransPort or NATDPort.  Possible loop in your NAT rules?</blockquote> --> This happens for example if you run "curl 192.168.0.15", because when you type "curl", by default in Whonix, you are not directly using curl, but a uwt wrapped (stream isolated) [[Stream Isolation]] curl. It would not try to directly connect to 192.168.0.15, but to connect to 192.168.0.15 through Tor and this is what Tor is mentioning. This is not of concern for security. It only means, that you attempted something, that will not work that way. Deactivate the curl stream isolation wrapper or use the non-wrapped version (see [[Stream Isolation]]).

= tor-ctrl =
tor-ctrl<ref>https://svn.torproject.org/svn/tor/branches/hidserv-perf/contrib/tor-ctrl.sh</ref> comes with Whonix by default.

Example usage to get a new circuit, on Whonix-Gateway:

<pre>
tor-ctrl -a /var/run/tor/control.authcookie -P 9051 -c "signal newnym"
</pre>

See also:

<pre>
man tor-ctrl
</pre>

= Footnotes =
<references />

= License =
<font size="-3">Thanks to [https://www.torproject.org/projects/arm.html.en torproject.org] for the arm screenshot, which is under [http://creativecommons.org/licenses/by/3.0/us/ Creative Commons Attribution 3.0 United States License].; [http://www.atagar.com/arm/screenshots.php Other screenshots of Arm]; [https://www.torproject.org/projects/arm.html.en Arm project page]</font>

{{Footer}}

[[Category:Documentation]]

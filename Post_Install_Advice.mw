{{DISPLAYTITLE:Post-installation Security Advice}}
{{Header}}
{{#seo:
|description=Security Advice After Installing Whonix
|image=https://www.whonix.org/w/images/0/09/Ball-63527-640.jpg
}}

== On {{gateway_product_name}} and {{workstation_product_name}} ==
=== Change Passwords ===
{{mbox
| image   = [[File:Ambox_notice.png|40px|alt=Whonix default password info box]]
| text    = [[{{q_project_name_short}}|{{q_project_name}}]] users can skip this section. <ref>
By default, Qubes does not require a password for superuser access.
</ref> <ref>
https://www.qubes-os.org/doc/vm-sudo/
</ref>
}}
<br />
<div class>
After {{project name}} has finished installing, immediately change the passwords for both the user <code>user</code> and user <code>root</code> accounts.

'''1.''' Open a terminal (such as Konsole).

<code>Start menu</code> -> <code>Applications</code> -> <code>System</code> -> <code>Terminal</code>

'''2.''' Login as root. 

Type the following command into a terminal and press <code><enter></code>.

{{CodeSelect|code=
sudo su
}}

'''3.''' Change the root and user passwords.
{{Default_Passwords}}
<br />

To change the <code>root</code> (superuser / administrator) password, type the following command into a terminal and press <code><enter></code>.

{{CodeSelect|code=
passwd
}}

To change the password of the {{project name}} default user named <code>user</code>, type the following command into a terminal and press <code><enter></code>.

{{CodeSelect|code=
passwd user
}}

And follow the instructions.
</div>

=== Security Updates ===

Regularly check for security updates and apply them in a timely fashion; see [[Operating_System_Software_and_Updates#Updates|Operating System Updates]].

== Network Time Syncing ==

=== Warnings ===

Follow the platform-specific recommendations below to avoid Tor connectivity problems and to limit possible adverse anonymity impacts.

==== All Platforms ====
* To protect against time zone leaks, the system clock inside {{project name}} is set to UTC. This means it may be a few hours before or ahead of your host system clock. <u>Do not change this setting!</u>
* If the host clock (in UTC! <ref>
In Linux, the user can view the system time in UTC by running:
{{CodeSelect|code=
date --utc
}}
</ref> <ref>
TODO: [https://phabricator.whonix.org/T71 Show desktop clock in local time; keep system in UTC]</ref>) is more than 1 hour in the past or more than 3 hours in the future, Tor cannot connect. In this case, manually fix the host clock by right-clicking on it, and also check for an empty battery. Then, power off and power on the Whonix-Gateway (<code>sys-whonix</code>) and Tor should be able to reconnect. If the host clock is grossly inaccurate, the user might experience problems when updating the host operating system, so periodically check it is (roughly) correct.

==== Easy instructions ====
* '''{{non_q_project_name_short}}:''' It is strongly discouraged to use the pause / suspend / save / hibernate features.
* '''Qubes-Whonix:''' It is strongly discouraged to use the pause feature of Qube Manager, but it is is safe to use the suspend or hibernate feature of dom0.

<div class="toccolours mw-collapsible mw-collapsed">

==== Advanced instructions ====
If you are interested in using the pause / suspend / save / hibernate features, please click the expand button for further instructions.
<div class="mw-collapsible-content">
* '''{{non_q_project_name_short}}:'''
** It is strongly discouraged to pause / suspend / save / hibernate the {{gateway_product_name}}, because it is difficult to restore the clock after resume. <ref name=gateway_pause>This is because the clock will be incorrect after system resume. A correct clock is important for anonymity (see [[Dev/TimeSync]] to learn more).</ref>
** It is strongly discouraged to pause / suspend / save / hibernate the Whonix-Workstation. If this advice is ignored, [[#Restart sdwdate|restart sdwdate]] after resume.
* '''Qubes-Whonix:'''
** It is strongly discouraged to pause Whonix-Gateway (<code>sys-whonix</code>) using the pause feature of Qube Manager, because it is difficult to restore the clock after resume. <ref name=gateway_pause />
** It is strongly discouraged to pause {{workstation_product_name}} (<code>anon-whonix</code>) using the pause feature of Qube Manager. If this advice is ignored, [[#Restart sdwdate|restart sdwdate]] after resume. <ref>
Qubes does not dispatch the <code>/etc/qubes/suspend-post.d</code> / <code>/etc/qubes/suspend-pre.d</code> hooks upon pause / resume using Qube Manager.
</ref>
** It is safe to use the suspend or hibernate feature of dom0 and a manual restart of sdwdate is unnecessary. <ref>
https://github.com/QubesOS/qubes-issues/issues/1764
</ref>
</div>
</div>

=== Restart sdwdate ===

To restart <code>sdwdate</code>.

<code>Start Menu</code> -> <code>Applications</code> -> <code>System</code> -> <code>Time Synchronization Monitor (sdwdate-gui)</code> -> <code>restart sdwdate</code>

Or in a terminal.

{{CodeSelect|code=
sudo /usr/lib/sdwdate/restart_fresh
}}

{{CodeSelect|code=
sudo systemctl restart sdwdate
}}

== Better Security ==

This chapter is intended to be a short and simple overview to provide basic protection for newcomers. Anonymity and platform security can be improved by following recommendations outlined in the Security Guide and Advanced Security Guide sections, along with the [[Network_Time_Synchronization|Network Time Synchronization]] page.

== Footnotes ==
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

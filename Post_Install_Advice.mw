

{{Header}}
{{#seo:
|description=Security Advice After Installing Whonix
|image=https://www.whonix.org/w/images/0/09/Ball-63527-640.jpg
}}

== On Whonix-Gateway and Whonix-Workstation ==
=== Change Passwords ===
{{mbox
| image   = [[File:Ambox_notice.png|40px|alt=Whonix default password info box]]
| text       = [[Qubes|Qubes-Whonix]] users can skip this section.
}}
<br />
<div class>
After Whonix has finished installing, immediately change the passwords for both the user {{Code2|user}} and user {{Code2|root}} accounts.

Open a terminal (such as Konsole).

<code>Start menu</code> -> <code>Applications</code> -> <code>System</code> -> <code>Terminal</code>

Login as root.

{{CodeSelect|code=
sudo su
}}

{{Default_Passwords}}
<br />
Change the root and user passwords.

{{CodeSelect|code=
passwd
}}
{{CodeSelect|code=
passwd user
}}

And follow the instructions.
</div>

=== Security Updates ===

Regularly check for security updates and apply them in a timely fashion; see [[Operating_System_Software_and_Updates#Updates|Operating System Updates]].

== Network Time Syncing ==

=== Warnings ===

Follow the platform-specific recommendations below to avoid Tor connectivity problems and to limit possible adverse anonymity impacts.

* '''All Platforms:'''
** To protect against time zone leaks, the system clock inside Whonix is set to UTC. This means it may be a few hours before or ahead of your host system clock. '''Do not change this setting!'''
** If the host clock (in UTC! <ref>
In Linux, the user can view the system time in UTC by running:
{{CodeSelect|code=
date --utc
}}
</ref> <ref>
TODO: [https://phabricator.whonix.org/T71 Show desktop clock in local time; keep system in UTC]</ref>) is more than 1 hour in the past or more than 3 hours in the future, Tor cannot connect. In this case, manually fix the host clock by right-clicking on it, and also check for an empty battery. Then, power off and power on the Whonix-Gateway (<code>sys-whonix</code>) and Tor should be able to reconnect. If the host clock is grossly inaccurate, the user might experience problems when updating the host operating system, so periodically check it is (roughly) correct.

* '''Easy instructions:'''
** '''Non-Qubes-Whonix:''' It is strongly discouraged to pause / suspend / save / hibernate.
** '''Qubes-Whonix:''' It is strongly discouraged to use the pause feature of Qubes VM Manager but it is is safe to use the suspend or hibernate feature of dom0.

<div class="toccolours mw-collapsible mw-collapsed">
* '''Advanced instructions:'''<br />
If you are interested to use pause / suspend / save / hibernate, please click the expand button for further instructions.
<div class="mw-collapsible-content">
** '''Non-Qubes-Whonix:'''
*** It is strongly discouraged to pause / suspend / save / hibernate the Whonix-Gateway, because it is difficult to restore the clock after resume. <ref name=gateway_pause>This is because the clock will be incorrect after system resume. A correct clock is important for anonymity (see [[Dev/TimeSync]] to learn more).</ref>
*** It is strongly discouraged to pause / suspend / save / hibernate the Whonix-Workstation, however if you choose to do so, [[#Restart sdwdate|restart sdwdate]] after resume.

** '''Qubes-Whonix:''' 
*** Avoid the pause feature of Qubes VM Manager for Whonix-Gateway (<code>sys-whonix</code>), because it is difficult to restore the clock after resume. <ref name=gateway_pause />
*** While Whonix-Workstation (<code>anon-whonix</code>) is running, if the user selects the pause feature of Qubes VM Manager, then manually [[#Restart sdwdate|restart sdwdate]] afterwards! <ref name=gateway_pause /> <ref>
Qubes does not dispatch the <code>/etc/qubes/suspend-post.d</code> / <code>/etc/qubes/suspend-pre.d</code> hooks upon pause / resume using Qubes VM Manager.
</ref>
*** It is safe to use the suspend or hibernate feature of dom0 and a manual restart of sdwdate is unnecessary. <ref>
https://github.com/QubesOS/qubes-issues/issues/1764
</ref>
</div>
</div>

=== Restart sdwdate ===

To restart <code>sdwdate</code>.

<code>Start Menu</code> -> <code>Applications</code> -> <code>System</code> -> <code>Time Synchronization Monitor (sdwdate-gui)</code> -> <code>restart sdwdate</code>

Or in a terminal.

{{CodeSelect|code=
sudo /usr/lib/sdwdate/restart_fresh
}}

== Better Security ==

This chapter is intended to be a short and simple overview to provide basic protection for newcomers. Anonymity and platform security can be improved by following recommendations outlined in the Security Guide and Advanced Security Guide sections, along with the [[Network_Time_Synchronization|Network Time Synchronization]] page.

== Footnotes ==
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

{{Header}}
{{#seo:
|description=Anonymous File Sharing using {{project_name}}. Bittorrent.
|image=https://www.whonix.org/w/images/7/78/Torrent-35656640.png
}}

= Magic-Wormhole =
The Magic-Wormhole<ref>https://github.com/warner/magic-wormhole</ref><ref>https://magic-wormhole.readthedocs.io/en/latest/</ref> package provides a library and a command-line tool named wormhole, which makes it possible to get arbitrary-sized files and directories (or short pieces of text) from one computer to another. The two endpoints are identified by using identical "wormhole codes": in general, the sending machine generates and displays the code, which must then be typed into the receiving machine. It is by far the simplest way to send files securely between two endpoints, that the Whonix developers have come across.

The wormhole tool uses PAKE “Password-Authenticated Key Exchange”, a family of cryptographic algorithms that uses a short low-entropy password to establish a strong high-entropy shared key. 

The codes are short and human-pronounceable, using a phonetically-distinct wordlist. The receiving side offers tab-completion on the codewords, so usually only a few characters must be typed. Wormhole codes are single-use and do not need to be memorized. 


Sender. Replace README.md with the name of any file in the home directory:
{{CodeSelect|code=
wormhole send README.md
Sending 7924 byte file named 'README.md'
On the other computer, please run: wormhole receive
Wormhole code is: 7-crossover-clockwork
}}
Recipient:
{{CodeSelect|code=
wormhole receive
Enter receive wormhole code: 7-crossover-clockwork
Receiving file (7924 bytes) into: README.md
ok? (y/n): y
Receiving (->tcp:10.0.1.43:58986)..
}}

== Codeword Security ==
The secret wormhole code must NOT be sent over an insecure channel as an adversary can perform a MITM attack and intercept transfers with 100% reliability.

By default, wormhole codes contain 16 bits of entropy. If an attacker can intercept your network connection (either by owning your network, or owning the rendezvous server), they can attempt an attack. They will have a one-in-65536 chance of successfully guessing your code, allowing them to pose as your intended partner. If they succeed, they can turn around and immediately start a new wormhole (using the same code), allowing your partner to connect to them instead of you. By passing, observing, and possibly modifying messages between these two connections, they could perform an MitM (Man In The Middle) attack.<ref>https://magic-wormhole.readthedocs.io/en/latest/attacks.html#low-probability-man-in-the-middle-attacks</ref>

Basic probability tells us that peers will see a large number of WrongPasswordErrors before the attacker has a useful chance of successfully guessing any wormhole code. You should expect to see about 32000 failures before they have a 50% chance of being successful. If you see many failures, and think someone is trying to guess your codes, you can use e.g. <code>wormhole send --code-length=4</code> to make a longer code (reducing their chances significantly).

= OnionShare =
See [[OnionShare]].

= Peer-to-Peer (P2P) File Sharing =
File Sharing Clients such as torrent, eMule, etc.

== Please limit! ==
{{project_name}} will keep your IP address hidden while you use BitTorrent and other file sharing and P2P programs. However, because the Tor network suffers from limited bandwidth shared among many users, please be aware of how much you are downloading and uploading with these programs: A single 500 megabyte media file can equal hours of browsing for another user.

Violation of copyright laws risks harassment against exit nodes. To learn more about legal protections for file sharing in your country, see https://en.wikipedia.org/wiki/Legal_aspects_of_file_sharing

If you must use it, please disable torrent seeding, as the constant uploading is what makes resource usage particularly harmful to the network compared to ordinary downloads over FTP/HTTP.

== The Tor Project ==
Over the last decade, the Tor Project has been fairly consistent in advising against BitTorrent over the Tor network. In response to the 2010 paper [https://hal.inria.fr/file/index/docid/471556/filename/TorBT.pdf Compromising Tor Anonymity Exploiting P2P Information Leakage] -- which detailed P2P information leakage over Tor that could compromise a user's identity -- [https://blog.torproject.org/blog/bittorrent-over-tor-isnt-good-idea Roger Dingledine] stated in 2010:

<blockquote>Combined, they present a variety of reasons why running any Bittorrent traffic over Tor isn't going to get you the privacy that you might want.

So what's the fix? There are two answers here. The first answer is "don't run Bittorrent over Tor". We've been saying for years not to run Bittorrent over Tor, because the Tor network [https://blog.torproject.org/blog/why-tor-is-slow can't handle the load]; perhaps these attacks will convince more people to listen. The second answer is that if you want your Bittorrent client to actually provide privacy when using a proxy, you need to get the application and protocol developers to fix their applications and protocols. [https://www.torproject.org/download.html.en#Warning Tor can't keep you safe if your applications leak your identity].</blockquote>

In the same post, Tor developer phobos stated: <ref>https://blog.torproject.org/comment/5541#comment-5541</ref>

<blockquote>bittorrent is not designed to be private nor anonymous. We've said for years to not use bittorrent over tor because it will screw the user in some way. Now we have an example of at least one of those ways.</blockquote> 

That does not mean that divergent opinions do not exist. For example, former Tor developer Jacob Appelbaum stated in 2011: <ref>https://lists.torproject.org/pipermail/tor-talk/2011-December/022376.html</ref>

<blockquote>... I'm not clear that it will harm the network if Tails includes a BitTorrent client. I think that the harm comes when someone runs a few seeding boxes through Tor and doesn't bother to add any capacity to the network at all. ...
</blockquote>

Similarly, in the same thread former Tor executive director Andrew Lewman stated: <ref>https://lists.torproject.org/pipermail/tor-talk/2011-December/022369.html</ref>

<blockquote>... There are completely legitimate uses of bittorrent over Tor. I've talked to people who want to get their ISO of Fedora or Ubuntu from outside their country, so they bt over tor to do so. ... I'm fully aware that the tor codebase punishes me for doing large downloads over Tor, so be it. ...
</blockquote>

== Bittorrent Client Fingerprinting ==

On initial startup, torrent clients generate a unique peer ID for the DHT network.<ref>https://security.stackexchange.com/questions/37167/can-bittorrent-clients-be-fingerprinted</ref> Also apparently the trackers can set cookies in the client as a newer version of qbittorrent allows you to see and manage those from the GUI. To avoid leaving a long lived trail of download activity, it is recommended to periodically start fresh from a clean snapshot and reinstall the torrent client.

= Footnotes =
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

__FORCETOC__
__TOC__
-----
= Materials =
'''UNFINISHED''' (barely started)

Materials - pieces of information and links that should be included in the draft.
== unsorted ==
https://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252/3288/17

https://forums.whonix.org/t/whonix-upgrade-notification/3284

message validity: (some) messages should only be valid for a certain time

https://theupdateframework.github.io/

The emergency notification messages should be signed with a different key than the one for repo package signing old and new.

== multi sig ==
Should use multi sig (key splitting).

The Debian apt signing key is on an official debian.org server. The revocation key is on Debian Developer's (DD) machines. (Not necessarily offline machines.)

They would need at least a 7/12 signature to create the Debian apt signing key revocation certificate.

Source:
https://ftp-master.debian.org/keys.html

So by using multi sig and not keeping the the emergency news signing key only on DD's machines, it would be safer than Debian's apt signing key.

== /etc/emergency-news.d ==
The code for downloading the revocation certificates should be configurable.

Download the revocation certificates from:

* version 1 - download from clearnet keyservers
* version 2 - optionally download from onion keyservers
* version 3 - optionally download from freenet / or something that implements a [[Dev/Permanent_Takedown_Attack_Defender|permanent takedown attack defense]]

== speak generally ==
Do not speak specifically about DDs since derivative distributions would handle this similarly by adding their distribution specific configuration file drop-in.

== test cases ==

* multiple notifications at once

= Proposal =
TODO: to be very well written for debian-devel mailing list
<pre>

</pre>

= alternative package managers =
* https://wiki.debian.org/Apt2
* https://wiki.debian.org/Cupt

= Sponsors =
* Should ask core infrastructure initiative once the concept is ready.

= Related =
* [[Dev/Permanent Takedown Attack Defender|Permanent Takedown Attack Defender, proposal to defend a permanent takedown threat]]
* [https://phabricator.whonix.org/T140 apt-revoker - Check for Revocation Certificates before running apt-get]

{{Header}}

= Manually updating Tor Browser (TBB stable version) =
(1) Go to https://www.torproject.org/ and/or http://idnxcnkne4qt76tg.onion/ and download the Tor Browser Bundle for Linux 32 bit. Store it in ''/home/user/''.

(2) Read https://www.torproject.org/docs/verifying-signatures.html.en and/or http://idnxcnkne4qt76tg.onion/docs/verifying-signatures.html.en and learn about gpg verification.

(3) Go to https://www.torproject.org/docs/signing-keys.html.en and/or http://idnxcnkne4qt76tg.onion/docs/signing-keys.html.en to get the gpg keys.

(4) Verify the Tor Browser Bundle download.

(5) Go into ''/home/user/'' with the file manger. (Dolphin)

(6) Extract the Tor Browser Bundle. Right click on the downloaded archive -> extract -> extract archive here.

(7) In case you downloaded another version than ''en-US'', rename the tor-browser_''lang'' folder to ''tor-browser_en-US''. This is important, because the paths in the following script are hardcoded.

(8) Go into the ''/home/user/tor-browser_en-US'' folder.

(9) Delete ''start-tor-browser'' or move it to the ''/home/user/tor-browser_en-US/Docs'' folder.

(10) Create a new file within the ''/home/user/tor-browser_en-US/'' folder called ''start-tor-browser'' with the following content.

<pre>
#!/bin/bash
## Whonix Tor Browser start script

export TOR_SKIP_LAUNCH=1
    
cd ~
~/tor-browser_en-US/App/Firefox/firefox --profile ~/tor-browser_en-US/Data/profile
    
## End of Whonix Tor Browser start script
</pre>

(11) Make the ''start-tor-browser'' script executable. Right click on ''start-tor-browser'' -> Properties -> Permissions -> enable the ''Is executable'' box -> ok.

(12) If you want to make 100% sure you never have Tor over Tor, you must shut down Whonix-Gateway while doing the following.

(13) Delete /home/user/my_tor-browser_en-US/App/tor.

(14) If there is '''no''' green Vidalia icon in the task bar, everything is fine.

(15) Start Tor Browser and run

<pre>ps aux | grep tor</pre>

If you see something like.

<pre>109 /usr/sbin/tor</pre>

Or.

<pre>/home/user/my_tor-browser_en-US/App/tor</pre>

Something went wrong and you're running Tor over Tor, which is recommended against.

(16) If the tests results are as expected, everything went fine.

(17) Don't forget to restart Whonix-Gateway, if you shut it down in step (13).

(18) Done.

= General information about Tor Browser in Whonix =
See [[Tor Browser]].

= Manually updating Tor Browser (TBB Alpha version) =
'''Only if you are using the Alpha version of TBB (Tor Browser Bundle 3.0alpha2 and above)!''' If you are using TBB Stable version (below TBB 3.0), please follow the instructions above.

(1) Go to https://www.torproject.org/ and/or http://idnxcnkne4qt76tg.onion/ and download the Tor Browser Bundle for Linux 32 bit. Store it in ''/home/user/''.

(2) Read https://www.torproject.org/docs/verifying-signatures.html.en and/or http://idnxcnkne4qt76tg.onion/docs/verifying-signatures.html.en and learn about gpg verification.

(3) Go to https://www.torproject.org/docs/signing-keys.html.en and/or http://idnxcnkne4qt76tg.onion/docs/signing-keys.html.en to get the gpg keys.

(4) Verify the Tor Browser Bundle download.

(5) Go into ''/home/user/'' with the file manger. (Dolphin)

(6) Extract the Tor Browser Bundle. Right click on the downloaded archive -> extract -> extract archive here.

(7) In case you downloaded another version than ''en-US'', rename the tor-browser_''lang'' folder to ''tor-browser_en-US''. This is important, because the paths are hardcoded.

(8) Done.

{{mbox
| type       = notice
| image      = [[File:Ambox_notice.png|40px|alt=Info]]
| text       = In case you are wondering if this will result in [[DoNot#Prevent_Tor_over_Tor_scenarios.|Tor over Tor]]... No, because since Whonix version 6, Tor Browser and Whonix play well together.<ref>Technically, rinetd listens on {{Code2|127.0.0.1}} {{Code2|9150}} and {{Code2|9151}} (TBB's default ports) and forwards them to Whonix-Gateway {{Code2|192.168.0.10 9150}} (where a Tor SocksPort is listening) and {{Code2|9151}} (where [[Dev/CPFP|Control Port Filter Proxy]] is listening). Tor does not get started by {{Code2|[https://gitweb.torproject.org/tor-launcher.git torbrowser-launcher]}} because the {{Code2|[https://trac.torproject.org/projects/tor/ticket/6009 TOR_SKIP_LAUNCH]}} environment variable has been set set to {{Code2|1}} in {{Code2|/etc/profile.d/}}. See also [[Dev/Dummy_Tor]].</ref>
}}

= Footnotes =
<references />

{{Footer}}

[[Category:Documentation]]

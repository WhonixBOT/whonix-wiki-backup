{{#seo:
|description={{project_name}} 64bit builds
}}
{{Header}}
{{forkme}}

'''This page needs to be updated.''' - This is because KVM builds are now done by KVM maintainer.

= Basics =
During {{project name}} build process, first a Debian raw image is created using grml-debootstrap. A raw image and not qcow2, vdi or vmdk, because creating a bootable raw image is difficult and there are no tools yet to create a qcow2, vdi or vmdk image from scratch.

When (also) using the --target virtualbox switch, the raw image gets converted to vdi. Then a VirtualBox virtual machine is created, the vdi added to it and exported. During export, VirtualBox unfortunately converts it to vmdk.

When (also) using the --target qcow2 switch, the raw image gets converted to qcow2.

Maintenance effort definition: Images need to be build, tested, signed, uploaded, maintained (updates), supported (triage bugs, answer questions).

= 32 bit vs 64 bit =
64 bit builds can not be run on 32 bit computers, can not be run on computers without pae.

64 bit libvirt builds could probably not run in QEMU on 32 bit computers but QEMU support is deprecated since there is no {{project name}} maintainer. See [[QEMU]].

= Old Situation =
[[{{q project name short}}|{{q project name}}]] 13 official builds were 64 bit only.

[[{{non q project name short}}|{{non q project name}}]] 13 official builds were 32 bit only. Maintenance effort included 6 images. Although build time, upload time and maintenance effort for {{custom workstation product name}} does not add up so much, because there is probably rarely need to update it (only when VM settings would change).

* {{gateway_product_name}} 32 bit ova
* {{workstation_product_name}} 32 bit ova
* {{custom workstation product name}} ova
* {{gateway_product_name}} 32 bit libvirt
* {{workstation_product_name}} 32 bit libvirt
* {{custom workstation product name}} libvirt

= With additional 64 bit builds =
If {{project name}} offered additional official 64 bit builds next to 32 bit builds, maintenance effort would multiply two times.

Maintenance effort would include 10 images.

* {{gateway_product_name}} 32 bit ova
* {{gateway_product_name}} 64 bit ova
* {{workstation_product_name}} 32 bit ova
* {{workstation_product_name}} 64 bit ova
* {{custom workstation product name}} ova
* {{gateway_product_name}} 32 bit libvirt
* {{gateway_product_name}} 64 bit libvirt
* {{workstation_product_name}} 32 bit libvirt
* {{workstation_product_name}} 64 bit libvirt
* {{custom workstation product name}} libvirt

= non-Debian builds =
Unrealistic in near future. Just for a fun thought experiment, imagine {{project name}} offered official non-Debian, let's say for example Fedora based images.

* Whonix-Debian-Gateway 32 bit ova
* Whonix-Debian-Gateway 64 bit ova
* Whonix-Debian-Workstation 32 bit ova
* Whonix-Debian-Workstation 64 bit ova
* {{custom workstation product name}} ova
* Whonix-Debian-Gateway 32 bit libvirt
* Whonix-Debian-Gateway 64 bit libvirt
* Whonix-Debian-Workstation 32 bit libvirt
* Whonix-Debian-Workstation 64 bit libvirt
* {{custom workstation product name}} libvirt
* Whonix-Fedora-Gateway 32 bit ova
* Whonix-Fedora-Gateway 64 bit ova
* Whonix-Fedora-Workstation 32 bit ova
* Whonix-Fedora-Workstation 64 bit ova
* Whonix-Fedora-Gateway 32 bit libvirt
* Whonix-Fedora-Gateway 64 bit libvirt
* Whonix-Fedora-Workstation 32 bit libvirt
* Whonix-Fedora-Workstation 64 bit libvirt

Getting crowded. 18 Images.

= How do other distributions solve this? =
How do other distributions deal with 32 bit vs 64 bit, Gnome vs KDE? They provide installer DVDs. {{project name}} can't do this, since we don't need only getting files installed, but also need the appropriate VM [https://github.com/{{project_name_short}}/{{project_name_short}}/blob/master/build-steps.d/2600_create-vbox-vm settings] / [https://github.com/{{project_name_short}}/{{project_name_short}}/tree/master/libvirt files].

How do other distributions deal with ova vs libvirt? They don't ship any VM images. Leave this to the user. But this is what {{project name}} does. Shipping pre-configured, ready to use VM images.

What could be attempted is

* 1) getting [https://github.com/{{project_name_short}} {{project name}} Debian packages] merged into Debian and Fedora, which would be a lot work.
* 2) contributing to Debian, so they're not only shipping DVD images, but also VM images.
* 3) making {{project name}} a [https://wiki.debian.org/DebianPureBlends blend] of Debian and also letting debian's cdimage.debian.org infrastructure build {{project name}} images.

= Future =
<u>'''Update:<br />
https://forums.whonix.org/t/state-of-offical-64-bit-builds/399/16'''</u>

<s>For now, the demand for 64 bit builds is too little. No longer shipping 32 bit builds would prevent many users from using {{project_name}}, which already has high system demands.

Maintaining 10 images seems like too much maintenance burden for Patrick.

In meanwhile it is possible to [[Dev/Build_Documentation/11_full#64bit_Builds_.28Optional.29|create 64bit builds yourself from source code]].

Maybe in future:

* someone implements an automated test suite for {{project name}} images (see also [https://tails.boum.org/contribute/release_process/test/automated_tests/ Tails's automated test suite]).
* [[Verifiable_Builds|checked for being verifiable]] gets automated on a build server among other stuff to ease development.
* a [[Contribute#Release_Manager|Release Manager]] joins the project
* a maintainer maintaining 64 bit ova builds joins the project
* a maintainer maintaining 64 bit libvirt builds joins the project
</s>

= Statistics =
https://labs.riseup.net/code/issues/8183

= Forum Discussion =
https://forums.whonix.org/t/state-of-offical-64-bit-builds

[[Category:Development]]

{{Footer}}

{{Template:Qubes}}

=== Whonix 11 Updates ===
When running the Whonix, [[Whonixcheck|Whonixcheck]] will automatically tell you if Debian package updates are available (Debian is the version of Linux that Whonix is built upon).

==== To update Debian packages in Whonix ====
Simply follow the directions given by Whonixcheck. You can also update the Debian packages in Whonix by completing the following steps:

'''1. Update Debian packages in Whonix-Gateway''' (commonly called whonix-gw)

Open terminal in Whonix-Gateway 
<pre>
Qubes App Menu(blue/grey "Q")-> Whonix-Gateway (commonly called whonix-gw) -> Terminal
</pre>

In terminal, enter the following:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade
</pre>

'''2. Update Debian packages in Whonix-Workstation''' (commonly called whonix-ws)

Open terminal in Whonix-Workstation 
<pre>
Qubes App Menu(blue/grey "Q")->Whonix-Workstation(commonly called whonix-ws)->Terminal
</pre>

In terminal, enter the following:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade -y
</pre>

==== Updating Whonix ====
'''1. Attach Whonix TemplateVM to a Whonix-Gateway ProxyVM''' (commonly called sys-whonix)

You may need to first '''[[Qubes/Create_Gateway_ProxyVMs|create a Whonix-Gateway ProxyVM]]''' to use, if one does not exist yet.

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM &raquo; VM Settings &raquo; Basic tab &raquo; NetVM:
* Beside NetVM choose Whonix-Gateway ProxyVM (sys-whonix) from the list.
</pre>

'''2. Start Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM:
* Start selected VM
</pre>

{{Qubes_NetVM_error}}


'''3. Enable Whonix repository'''

When first running a Whonix TemplateVM, a window called "Whonix Setup Wizard" should automatically pop up.

In Whonix Setup Wizard:
<pre>
* Select "Yes. Automatically install updates from the Whonix team"
* Click <Next>
* Choose which Whonix Repository (recommended: Whonix Stable Repository)
* Click <Next> 
* Click <Finish>
</pre>

'''To Manually Restart Whonix Repository Tool'''

You may also manually start the Whonix Repository Tool to change your settings in the future by doing the following from your respective Whonix TemplateVMs (i.e. Whonix-Worstation, Whonix-Gateway, etc.)

In a terminal: 
<pre>
sudo whonix_repository
</pre>

Or by running: 
<pre>
Start Menu -> Applications -> System -> Whonix Repository.
</pre>

'''4. Check and Install Updates'''

In Whonix TemplateVM &raquo; Terminal:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade -y
</pre>

OR, You can right click the Whonix templateVM in Qubes Manager and select Update ***note that as of early Sept. 2015, this function does not appear to work, Whonix is working on it***

'''5. Clear Terminal History'''

In Whonix TemplateVM &raquo; Terminal:
<pre>
history -cw
</pre>

'''6. Shutdown Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM:
** Shutdown selected VM
</pre>

'''8. Restart/Update Whonix VMs'''
If new updates were available and installed, you will need to either simply restart your running Whonix-Gateway ProxyVMs and running Whonix-Workstation AppVMs for them to be updated -- or alternatively apply this same update process again to your running VMs if not wanting to restart them right away.


<div class="toccolours mw-collapsible mw-collapsed" style="width:800px">

{{Template:Qubes}}

=== Whonix 11 Updates ===
When running the Whonix, [[Whonixcheck|Whonixcheck]] will automatically tell you if Debian package updates are available (Debian is the version of Linux that Whonix is built upon).

==== To update Debian packages in Whonix ====
Simply follow the directions given by Whonixcheck. You can also update the Debian packages in Whonix by completing the following steps:

'''1. Update Debian packages in Whonix-Gateway''' (commonly called whonix-gw)

Open terminal in Whonix-Gateway 
<pre>
Qubes App Menu(blue/grey "Q")-> Whonix-Gateway (commonly called whonix-gw) -> Terminal
</pre>

In terminal, enter the following:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade
</pre>

'''2. Update Debian packages in Whonix-Workstation''' (commonly called whonix-ws)

Open terminal in Whonix-Workstation 
<pre>
Qubes App Menu(blue/grey "Q")->Whonix-Workstation(commonly called whonix-ws)->Terminal
</pre>

In terminal, enter the following:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade -y
</pre>

==== Updating Whonix ====

If you wish to keep your version of Whonix up-to-date you should also enable the Whonix Repository. You should apply this process to all of your Whonix TemplateVMs. In otherwords, make sure you follow these directions for both your Whonix-Gateway (commonly called whonix-gw) and Whonix-Workstation (commonly called whonix-ws).

'''1. Attach Whonix TemplateVM to a Whonix-Gateway ProxyVM''' (commonly called sys-whonix)

You may need to first '''[[Qubes/Create_Gateway_ProxyVMs|create a Whonix-Gateway ProxyVM]]''' to use, if one does not exist yet.

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM &raquo; VM Settings &raquo; Basic tab &raquo; NetVM:
* Beside NetVM choose Whonix-Gateway ProxyVM (sys-whonix) from the list.
</pre>

'''2. Start Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM:
* Start selected VM
</pre>

{{Qubes_NetVM_error}}


'''3. Enable Whonix repository'''

When first running a Whonix TemplateVM, a window called "Whonix Setup Wizard" should automatically pop up.

In Whonix Setup Wizard:
<pre>
* Select "Yes. Automatically install updates from the Whonix team"
* Click <Next>
* Choose which Whonix Repository (recommended: Whonix Stable Repository)
* Click <Next> 
* Click <Finish>
</pre>

'''To Manually Restart Whonix Repository Tool'''

You may also manually start the Whonix Repository Tool to change your settings in the future by doing the following from your respective Whonix TemplateVMs (i.e. Whonix-Worstation, Whonix-Gateway, etc.)

In a terminal: 
<pre>
sudo whonix_repository
</pre>

Or by running: 
<pre>
Start Menu -> Applications -> System -> Whonix Repository.
</pre>

'''4. Check and Install Updates'''

In Whonix TemplateVM &raquo; Terminal:
<pre>
sudo apt-get update && sudo apt-get dist-upgrade -y
</pre>

OR, You can right click the Whonix templateVM in Qubes Manager and select Update ***note that as of early Sept. 2015, this function does not appear to work, Whonix is working on it***

'''5. Clear Terminal History'''

In Whonix TemplateVM &raquo; Terminal:
<pre>
history -cw
</pre>

'''6. Shutdown Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:
<pre>
* Select Whonix TemplateVM:
** Shutdown selected VM
</pre>

'''8. Restart/Update Whonix VMs'''
If new updates were available and installed, you will need to either simply restart your running Whonix-Gateway ProxyVMs and running Whonix-Workstation AppVMs for them to be updated -- or alternatively apply this same update process again to your running VMs if not wanting to restart them right away.


<div class="toccolours mw-collapsible mw-collapsed" style="width:800px">

=== Whonix 10 TemplateVM Update ===
<br />
With the advent of Whonix 11, the update guide for Whonix 10 is now deprecated
If you are still using Whonix 10, you are advised to install [[Qubes/Install|Whonix 11]]
If you are still interested in updating Whonix 10, click on Expand on the right.
<div class="mw-collapsible-content">
This guide explains how to update your Whonix TemplateVMs using the update repositories.

You should regularly apply this update process to all of your Whonix-Gateway and Whonix-Workstation TemplateVMs.


'''1. Attach Whonix TemplateVM to a Whonix-Gateway ProxyVM (commonly called sys-whonix)'''

You may need to first '''[[Qubes/Create_Gateway_ProxyVMs|create a Whonix-Gateway ProxyVM]]''' to use, if one does not exist yet.

In Dom0 &raquo; Qubes VM Manager:

* Select Whonix TemplateVM &raquo; VM Settings &raquo; Basic tab &raquo; NetVM:
** Choose an existing Whonix-Gateway ProxyVM from the NetVM list for downloading updates.



'''2. Start Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:

* Select Whonix TemplateVM:
** Start selected VM



'''3. Launch TemplateVM Terminal'''

In Dom0 &raquo; Application Launcher Menu:

* For your Whonix TemplateVM's launcher menu, click on the "Terminal" app to launch it.



'''4. Enable Whonix Repository'''

Qubes and Debian updates install by default. If you would also like to install Whonix updates this way, then ensure you have the Whonix repository enabled -- (or disabled if you prefer). This setting will remain in your TemplateVM for later. On first run of template you will be presented with the Whonix repository options, but you may change them at any time.

In Whonix TemplateVM &raquo; Terminal:

* Input command: <code>sudo whonix-setup-wizard repository</code>
** Choose: Yes. Automatically install updates from the Whonix team.
** Press: OK
** Choose: Whonix Stable Repository (unless you are a tester or developer and understand what you are doing).
** Press: OK



'''5. Check and Install Updates'''

In Whonix TemplateVM &raquo; Terminal:

* Input command: <code>sudo apt-get update && sudo apt-get dist-upgrade -y</code>

* OR, You can right click the Whonix templateVM in '''Qubes Manager''' and select '''Update'''



'''6. Clear Terminal History'''

In Whonix TemplateVM &raquo; Terminal:

* Input command: <code>history -cw</code>



'''7. Shutdown Whonix TemplateVM'''

In Dom0 &raquo; Qubes VM Manager:

* Select Whonix TemplateVM:
** Shutdown selected VM



'''8. Restart/Update Whonix VMs'''

If new updates were available and installed, you will need to either simply restart your running Whonix-Gateway ProxyVMs and running Whonix-Workstation AppVMs for them to be updated -- or alternatively apply this same update process again to your running VMs if not wanting to restart them right away.

{{Template:Qubes}}

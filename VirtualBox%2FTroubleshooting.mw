{{Header}}
{{#seo:
|description=Whonix in VirtualBox - Troubleshooting
|image=https://www.whonix.org/w/images/8/81/Troubleshooting-114197640.jpg
}}

= Troubleshooting =

== Whonix does not start? ==


=== PAE crash ===

In Whonix-Gateway:<br />
<code>Virtual Box</code> -> <code>Right-click on Whonix-Gateway</code> -> <code>Settings</code> -> <code>System</code> -> <code>Processor</code> -> <code>Uncheck the ''Enable PAE/NX'' Box</code> -> <code>OK</code>

Afterwards, repeat these steps in Whonix-Workstation.

Read the [[#Boot Options| Boot Options]] chapter and use the 486 kernel.

=== VERR_VMX_MSR_VMXON_DISABLED ===

Try this:<br />
Virtual Box -> Right Click on Whonix-Gateway -> Settings -> System -> Acceleration -> Uncheck the "Enable VT-x/AMD-V" Box -> OK.

Repeat that for Whonix-Workstation as well.

Read the [[#Boot Options| Boot Options]] chapter and use the 486 kernel.

If it still doesn't work, also try:<br />
Virtual Box -> Right Click on Whonix-Gateway -> Settings -> System -> Acceleration -> Uncheck the "Enable Nested Paging" Box -> OK.

=== VERR_SSM_FIELD_NOT_CONSECUTIVE ===


If you see "{{Code2|Failed to load unit 'PATM' (VERR_SSM_FIELD_NOT_CONSECUTIVE).}}", please enable {{Code2|VT-x}} in BIOS.

=== Kernel Panic ===

This probably similar to [[#PAE crash|PAE crash]] and {{Code2|VERR_SSM_FIELD_NOT_CONSECUTIVE}} issues above. If you can, enable {{Code2|VT-x}} in BIOS. If you cannot, then disable PAE/NX in VirtualBox (see [[#PAE crash|PAE crash]] above for instructions on how to do so) and then read the [[#Boot Options| Boot Options]] chapter and use the 486 kernel.

=== VT-x is disabled in the BIOS. ===

If you see this error message.

<pre>
Failed to open a session for the virtual machine Whonix-Gateway.

VT-x is disabled in the BIOS.
(VERR_VMX_MSR_VMXON_DISABLED).
</pre>

Or.

<pre>
AMD-V is disabled in the BIOS (or by the host OS).
(VERR_SVM_DISABLED).
</pre>

Then please enable {{Code2|VT-x}} in BIOS.

=== Error In supR3HardenedWinReSpawn ===
[[File:VirtualBox_supR3HardenedWinReSpawn.png|400px]]<br />
Don't update whilst the VMs are running and if you do, you need to reinstall [[VirtualBox]].

=== Other reasons ===

Please have a look at the [[VirtualBox|VirtualBox]] page. It contains instructions on how to properly download and verify the Whonix virtual machine images. There is also help available in form of screenshot or video instructions.

If you still need help, please go to the [https://forums.whonix.org Whonix User Help Forum].

== Boot Options ==

In the grub boot menu you can choose for two seconds. Two kernels are installed by default.

* The default 686-pae kernel.
* A 486 kernel for compatibility.

'''If Whonix works out of the box, you do not need to change anything''' and you can stick to the default 686-pae kernel.

In case you need to [[#PAE_crash| disable PAE]], use the 486 kernel.

== Virtual Box Disk Images ==
=== INCONSISTENCY BETWEEN GRAIN TABLE AND BACKUP GRAIN TABLE ===
Maybe this will help: Try convert the vmdk to vdi, remove the old vmdk from the VM and attach the new vdi.

= Import Whonix images =
Importing the images with the VirtualBox GUI should work well in most cases. If not, please check first if you have enough free disk space. Please also refer to the Whonix [[Install|Install Screenshots]] or [[Videos|Video Tutorials]].

Delete any half imported or otherwise broken virtual machine images by using the VBoxManage command line tool. Copy the output.

<pre>
VBoxManage unregistervm "Whonix-Gateway" --delete
</pre>

<pre>
VBoxManage unregistervm "Whonix-Workstation" --delete
</pre>

Go to the folder where you downloaded Whonix. Import Whonix-Gateway and Whonix-Workstation by using the VBoxManage command line tool.

<pre>
VBoxManage import Whonix-Gateway.ova
</pre>

<pre>
VBoxManage import Whonix-Workstation.ova
</pre>

Clean (anonymize) the output.

<pre>
# Remove operating system user name or any problematic paths.
</pre>

[[Contact|Contact Whonix developer]] by sending the output.

<pre>
.
</pre>

{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

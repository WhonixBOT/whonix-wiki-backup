{{Header}}
{{#seo:
|description=i2p over Tor. Tunnelling the i2p Anonymizing Network over the Tor Anonymizing Network. Connection Schema: Tor -> i2p -> Destination.
}}

= i2p anonymizing network =

== Introduction ==

TODO: write introduction into i2p.

You can either use inproxies inside Whonix-Workstation to browse eepsites or install i2p inside Whonix-Workstation.

The inproxy method is more suited for a causal use of i2p, where you just want to anonymously view an eepsite and don't care about eavesdroppers as long you are anonymous.

Instaling i2p inside Whonix-Workstation is safer, all i2p traffic gets tunneled through Tor, fully featured but a tiny bit more difficult than installing i2p the ordinary way, i.e. using i2p in the clear, not over Tor.

* [https://www.i2p2.de/debian.html Debian I2P Packages]

== Inproxies inside Whonix-Workstation ==

There are several i2p inproxies, those are similar to tor2web<ref>https://trac.torproject.org/projects/tor/wiki/doc/tor2web</ref>. Simply use [[Tor Browser]], which comes with Whonix by default.

Note that you will loose the end-to-end encryption to the eepsites, which i2p would provide, if you would install it directly inside Whonix-Workstation, or if you would use it the ordinary way. Depending on if the inproxy uses http (unencrypted), http'''s''' (or is reachable through a hidden service), also [[Warning#Tor_exit_nodes_can_eavesdrop_on_communications|Exit Nodes Eavesdropping]] applies. In any case, the i2p inproxy admin can see, all your traffic into the i2p network and there is no way to prevent that.

List of i2p inproxies:

* <s>awxcnx i2p eepsite inproxy</s>
** <s>[https://www.awxcnx.de/tor-i2p-proxy2-en.htm clearnet SSL version]</s>
** <s>[http://a5ec6f6zcxtudtch.onion/tor-i2p-proxy2-en.htm Tor hidden service version]</s>
** <s>[http://awxcnx.i2p/tor-i2p-proxy2-en.htm I2P eepsite version]</s>
* <s>awxcnx i2p IRC inproxy (See [[Chat]] for general chat safety advice.)</s>
** <s>[https://www.awxcnx.de/i2p-irc-en.htm clearnet SSL version]</s>
** <s>[http://a5ec6f6zcxtudtch.onion/i2p-irc-en.htm Tor hidden service version]</s>
** <s>[http://awxcnx.i2p/i2p-irc-en.htm I2P eepsite version]</s>
* <s>[http://6dyi4t72u7y6g763.onion/ 6dyi4t72u7y6g763.onion]</s>
* <s>or simply add '.to' after '.i2p'. For example, instant of ''http://forum.i2p'' you can use ''http://forum.i2p.to''.</s>

== Installing i2p inside Whonix-Workstation (i2p over Tor) ==
'''Update''': <br />
Accessing i2p's webinterface on 127.0.0.1 using Tor Browser is no longer possible due to a [https://trac.torproject.org/projects/tor/ticket/10419 change] in Tor Browser by The Tor Project. You could set to transparent torification, but then you would be vulnerable fingerprinting issues. See [https://trac.torproject.org/projects/tor/ticket/10419 ticket] for more.

It is possible to run i2p inside the Whonix-Workstation. Advantages:

* Anonymity is provided by Tor.
* [http://127.0.0.1:7657/confignet i2p router console] works normal inside Tor Browser. No need to install a graphical user interface on the Whonix-Gateway.
* Eepsites (.i2p) can be reached directly from Tor Browser.
* i2p's end-to-end encryption will be used like usual.

Disadvantages:

* Adds load to Tor.
* Adds load to i2p.
* It's slower than i2p directly on Whonix-Gateway or the ordinary usage.
* No contribution (leaching) to the i2p network. <ref>Sounds worse than it is. Only very little people are expected to use i2p over Tor. i2p offers those options itself. It's not like a leeching mod.</ref>

Recommended settings:

* Tor Browser
** Use a [[Advanced_Security_Guide#More_than_one_Tor_Browser_in_Whonix|second instance of the Tor Browser]], [[Security_Guide#Recommendation_to_use_multiple_VM_Snapshots|multiple VM Snapshots]] or [[multiple Whonix-Workstations]].
** Add <u>http</u> proxy IP: 127.0.0.1 port: 4444 in Tor Browser's Tor Button settings.
* [http://127.0.0.1:7657/confignet i2p Network Settings]
** IP configuration: hidden mode (do not publish IP) <ref>There is no need to publish the exit relay's IP address. It wouldn't work. Tor does not support incoming connections (server ports) unless hidden services are used. i2p very unlikely to support Tor hidden services, since they have their own network design.</ref>
** UDP-Port: completely disable <ref>UDP is unsupported by Tor.</ref>
** TCP: disable inbound (Firewalled) <ref>Only outgoing TCP supported by Tor.</ref> <ref>If you know to use a hidden service, please add this information.</ref>  <ref>Incoming connections are not possible, because [[Install_Software#Whonix-Workstation_is_firewalled|Whonix-Workstation is firewalled]].</ref>
* [http://127.0.0.1:7657/configtunnels i2p Tunnels Settings]
** length (all tunnels): inbound and outbound: 0 <ref>It's faster and less connection interrupts. Anonymity is already provided by Tor. No need to leech from Tor/i2p.</ref>
* [http://127.0.0.1:7657/configadvanced I2P Advanced Configuration]
** Add: <pre>time.sntpServerList=localhost</pre>
** Click "Safe Changes".

NOTE: it is possible to avoid clock skews (I2P will notice those and complain about it) by switching '''sdwdate''' off:

<pre>
sudo service sdwdate stop
sudo chmod -x /etc/init.d/sdwdate
</pre>

However, time sync management in Whonix is a complex issue, so before doing this, make sure to read [[Dev/TimeSync]] and understand the implications.

== Installing i2p on Whonix-Gateway (i2pBOX) ==

Was just a development idea with some progress. Moved to [[Dev/Inspiration]].

= Footnotes =
<references/>

{{Footer}}

[[Category:Documentation]]

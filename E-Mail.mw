{{Header}}
<!--
Copyright:

Liberte Linux Philosophy page Copyright (C) 2013 Maxim Kammerer <mk at dee dot su>
Whonix E-Mail wiki page Copyright (C) 2013 - 2018 ENCRYPTED SUPPORT LP <adrelanos@riseup.net>

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

The complete text of the GNU General Public License can also be found online on gnu.org <http://www.gnu.org/licenses/gpl-2.0.html>, in Whonix virtual machine images in /usr/share/common-licenses/GPL-2 file or in Whonix wiki on <https://sourceforge.net/p/whonix/wiki/GPLv2/>.
-->
{{DISPLAYTITLE:Email Overview}}
{{#seo:
|description=Anonymous Email. Thunderbird. Remailer. Encryption. Mixmaster. Nym.
|og:image=https://www.whonix.org/w/images/d/d7/Enigmailsecuresettings.png
}}
[[Image:Thunderbird_17.0.png|400px|thumb|link=Encrypted_Email_with_Thunderbird_and_Enigmail|[[Encrypted_Email_with_Thunderbird_and_Enigmail|Encrypted Email with Mozilla Thunderbird, Enigmail and TorBirdy]]]]

= Introduction =

On the Whonix platform, there are two common methods for email:

# [https://en.wikipedia.org/wiki/Webmail Webmail] accessed via [[Tor Browser]]; or
# [[Encrypted_Email_with_Thunderbird_and_Enigmail|Encrypted Email with Mozilla Thunderbird, Enigmail and TorBirdy]].

These and other solutions are imperfect, but this is not a Whonix-specific issue -- it is a general issue with email over the Tor network.

== Webmail vs Email Clients ==

Webmail refers to accessing an email service via a web browser when connected to the Internet. Emails are stored and accessed on the online servers provided by the service. This approach provides convenience, as: <ref>https://windowsreport.com/webmail-desktop-email-client/</ref>

* Messages can be stored and accessed by different devices in different locations, with syncing of services across those devices. 
* Difficult desktop email setup configurations are avoided, since third-party applications are not required.

The obvious downside is most webmail requires JavaScript, and access from a public network could lead to an account compromise. Further, data storage is limited and it is impossible to manage and read emails without an Internet connection. It is not easy to backup important emails, and multiple email accounts cannot be managed in this configuration. <ref name=webmail_emailclient>https://difference.guru/difference-between-an-email-client-and-webmail/</ref>

In comparison, email clients like Thunderbird <ref>Outlook is the equivalent on the Windows platform.</ref> manage emails via a desktop application. In Thunderbird's case, various settings must be configured like the email address and email port server settings (POP3, SMTP etc.), among others. There are several benefits to a properly administered email client: <ref name=webmail_emailclient />

* JavaScript is not required.
* No annoying webmail advertisements.
* Emails can be retrieved from providers at a specific time.
* New emails are stored on the home desktop computer.  <ref>Via a mail transfer agent.</ref>
* Emails can be retrieved from multiple email addresses.
* It is possible to view and compose emails off-line.

Neither approach is foolproof, since email is inherently insecure. However, end-to-end, PGP-encrypted email with the Thunderbird email client is preferable because it provides better security than standard webmail. It is recommended to review comparisons of [https://en.wikipedia.org/wiki/Comparison_of_webmail_providers webmail providers] and [https://en.wikipedia.org/wiki/Comparison_of_email_clients email clients] before proceeding further.

= Safe Email Principles =

== Attachments ==

Email attachments are often used as an exploit vector for infecting the recipient's machine(s), deanonymizing users, or tracking when attachments are viewed, forwarded and so on. To avoid being infected with malware, it is safest to open attachments in a separate VM that does not have an Internet connection. In Qubes-Whonix, DisposableVMs are ideal for opening potentially dangerous files.

== Email Encryption ==

SSL/TLS encryption is inadequate to protect emails from prying eyes. Whonix supports the stock recommendation to use email encryption with Enigmail, which is a graphical front-end for using the GnuPG ("GPG") encryption program. This is a suitable solution for the majority of users, unless they have self-assessed as being a high-risk target. Similarly, the TorBirdy extension is also recommended to make Thunderbird connections take place over the Tor network. 

{{mbox
| type      = notice
| image   = [[File:Ambox_notice.png|40px|alt=Info]]
| text       = Users should bear in mind that only later versions of Enigmail encrypt the subject line, but the [[Encrypted_Email_with_Thunderbird_and_Enigmail|Whonix configuration]] does ''not'' currently encrypt the subject line.
}}


Even if the email content is encrypted and subject lines are random, hidden, empty, use just a dash ({{Code2|-}}), or contain misleading content, the email provider can still log valuable data such as:

* When and with whom the user is in contact.
* When a user logged in and for how long.
* How often a user fetches mail.
* The Tor exit relay that was used for anonymous email.

Extensive metadata can potentially assist adversaries to make (false) assumptions about the user and their identity.

== Email Provider ==

Avoid well-known, large, corporate email providers who purposefully invade user privacy. For instance, [http://marketingland.com/yahoo-email-scan-microsoft-scroogled-46416 Yahoo] and [https://www.theguardian.com/technology/2014/apr/15/gmail-scans-all-emails-new-google-terms-clarify Gmail] use automated software to scan emails for keywords to tailor advertising and sell products. [https://www.nytimes.com/2014/03/21/technology/microsofts-software-leak-case-raises-privacy-issues.html?_r=0 Hotmail] also has a history of reading private emails and messages.

Prefer email providers that:

* Are free.
* Do not require JavaScript or other credentials for registration.
* Provide an [[Onion_Services|onion service]].
* Support PGP encryption and key management. 
* Have encrypted inboxes by default.
* Are outside [https://en.wikipedia.org/wiki/UKUSA_Agreement#9_Eyes.2C_14_Eyes.2C_and_other_.22third_parties.22 Fourteen Eyes] jurisdictions.
* Have desktop email compatibility with [https://www.thunderbird.net/ Mozilla Thunderbird]. <ref>Formerly "Icedove", but now re-branded in Debian following resolution of trademark issues.</ref>

The email provider will always represent a single point of failure. An email account may be quickly closed or suspended in response to external pressure by authorities. Similarly, the administrators may decide (or be forced) to terminate the service completely, or for specific individuals.

Users should create backup anonymous email addresses with different providers so that alternative communication channels remain open in response to potentially hostile third party actions.

== JavaScript and Other Tracking Vectors ==

Many webmail services require JavaScript, which when enabled allows discovery of how fast a user types, how long it takes to read a message, common spelling mistakes, time taken to correct mistakes, destination email addresses, and when emails are received and from whom. For this reason, webmail with active JavaScript is strongly discouraged. In general, a browser is not a safe environment to directly write text; learn more on the [[Surfing_Posting_Blogging| Surfing, Posting and Blogging]] page. 

Other potential tracking vectors include [[Data_Collection_Techniques#Web_Beacons_.28Webbugs.29|web beacons (webbugs)]] <ref>https://en.wikipedia.org/wiki/Web_beacon</ref> which are embedded on various websites, allowing cookies to be implanted in the browser in order to track browsing habits. [[Data_Collection_Techniques#Email_Beacons|Email beacons]] use a similar tracking technique. In this case, tiny images are embedded in emails with unique identifiers in the URL. After the email is opened and the image is requested, the email sender learns when the message was read, along with the IP address (or proxy) that was used.

== Registration ==

Basic precautions must be taken when registering an email address anonymously. For example, personal or identifying data must never be used, and the account must be exclusively paired with Tor. It is also safer to register an anonymous account with a provider that has never been used non-anonymously, and preferably without JavaScript.

== Recommendation ==

The best balance of usability and security is realized by configuring [[Encrypted_Email_with_Thunderbird_and_Enigmail|Encrypted Email with Mozilla Thunderbird, Enigmail and TorBirdy]]. It is also preferable to use POP3 and SMTP, since IMAP leaks more metadata. <ref>For example, how long a user has been running the mail client. IMAP comes with other risks, like saving drafts on the server as the user is typing.</ref>

= Email Provider Comparison =

== Introduction ==

Many users ask whether particular email providers are safer than others, for example Protonmail compared to Tutanota, Riseup, Gmail and so on. <ref>In the past users asked whether I2Pmail was safer than Tor Mail, although Tor Mail is [http://www.democraticunderground.com/10023403890 now offline] because it was hosted on Freedom Hosting which was taken down by the FBI.</ref> <ref>http://www.wired.com/threatlevel/2013/09/freedom-hosting-fbi/</ref> 

The earlier [[#Email_Provider|Email Provider]] section noted that email is always a single point of failure. Despite the many claims made by different services, they are unable to significantly improve privacy by design. Only a few questions are truly relevant:

# Is anonymous registration over Tor possible?
# Is any personal information required for registration?
# Can the account be exclusively paired with Tor - preferably via a (v3) onion service?
# Will the provider bow to external pressure by authorities and close or suspend the account when free speech issues arise? This has a greater impact for projects or movements, rather than individual accounts.

Privacy by policy can only ever provide a weak layer of protection compared to privacy by design. One possible exception might be "pseudo-email" services <ref>These have a different design to classical email and are therefore incompatible.</ref> like [[BitMessage]], [[#I2P-Bote|I2P-Bote]] and [[#Freemail|Freemail]]. For instant messenger protocols with equivalent features, see [[Chat#Ricochet_IM|Richochet IM]] and [[Chat#RetroShare|RetroShare]].

A few mail providers who are frequently discussed as possible options are briefly considered below. Whonix stands neutral in this regard; objectively speaking no particular mail provider can be recommended.

== Gmail ==

As noted in the [[The_World_Wide_Web_And_Your_Privacy#Google_Data_Collection_Techniques|Google Data Collection Techniques]] entry:

<blockquote>Email content is processed and read (scanned) by a computer for targeted advertising purposes and spam prevention. Under Google policies, there is an unlimited period of data retention and the potential for unintended secondary use of this information. Google has already admitted users have "no reasonable expectation" of confidentiality regarding personal emails.</blockquote>

Although Google ''allegedly'' stopped scanning all emails for advertising purposes in 2017, it is clear that employees are tasked to read users' emails for security or other purposes. <ref>https://betanews.com/2018/07/04/google-response-to-gmail-privacy-concerns/</ref> Further, Google has simply replaced one data-siphoning avenue with another -- third-party apps when can access and share data from Gmail's 1.4 billion users (in 2018). <ref>https://money.cnn.com/2018/09/20/technology/google-gmail-scanning/index.html</ref> Since Google is hostile to privacy, no-one should be surprised that pairing Tor with Gmail is exceedingly difficult. Mike Hearn from Google addressed this very issue on tor-talk in 2012: <ref>https://lists.torproject.org/pipermail/tor-talk/2012-October/025923.html</ref>:

<blockquote>
Access to Google accounts via Tor (or any anonymizing proxy service) is not allowed unless you have established a track record of using those services beforehand. You have several ways to do that: 
<br />
1) With Tor active, log in via the web and answer a security question, if any is presented. You may need to receive a code on your phone. If you don't have a phone number on the account the access may be denied.
<br />
2) Log in via the web without Tor, then activate Tor and log in again WITHOUT clearing cookies. The GAPS cookie on your browser is a large random number that acts as a second factor and will whitelist your access.
<br />
Once we see that your account has a track record of being successfully accessed via Tor the security checks are relaxed and you should be able to use TorBirdy.
</blockquote>

Based on Google's poor privacy record, anti-Tor stance, and unrivaled profiling / data exfiltration in all eco-systems, <u>Gmail is strongly recommended against</u>. It would be very difficult to register an account and exclusively login over Tor. Google's insistence of personal identifiers such as mobile phone verification makes it practically impossible to achieve without jeopardizing anonymity. <ref>Google will also have knowledge of online phone and messaging services and any prior history of blacklisting for verification purposes.</ref>

== I2P Mail ==

Wikipedia provides a simple overview of the I2P email service: <ref>https://en.wikipedia.org/wiki/I2P</ref>

<blockquote>I2P has a free pseudonymous email service run by an individual called Postman. [https://en.wikipedia.org/wiki/Susimail Susimail] is a [https://en.wikipedia.org/wiki/Web-based web-based] email client intended primarily for use with Postman's mail servers, and is designed with security and anonymity in mind. Susimail was created to address privacy concerns in using these servers directly using traditional email clients, such as leaking the user's hostname while communicating with the SMTP server. It is currently included in the default I2P distribution, and can be accessed through the I2P router console web interface. Mail.I2P can contact both I2P email users, via user@mail.I2P and public internet email users from a user@I2Pmail.org address.</blockquote>

Although it is beneficial to clean the mail header, applications like TorBirdy can do the same. Further, it is technically impossible to encrypt mails to clearnet addresses such as Gmail, Riseup and other providers, unless the sender and recipient are using end-to-end encryption such as OpenPGP. When these factors are considered, the I2P email service is no more or less secure than using alternatives.

Even though the service is based on I2P, it can still be accessed in Whonix over Tor; see [[I2P]] for instructions on tunneling I2P over Tor. To date, there has not been any notification of email account suspensions. <ref>It is unknown whether spam abuse has become an issue.</ref> Factors outlined in the [[#Safe_Email_Principles|Safe Email Principles]] section may also equally apply.

== Riseup Mail ==

{{mbox
| image   = [[File:Ambox_notice.png|40px]]
| text    = Issues discussed in the [[#Safe_Email_Principles|Safe Email Principles]] section equally apply to Riseup.
}}


Riseup provides a number of advantages for users who value privacy: <ref>https://riseup.net/en/email#what-is-special-about-riseup-email</ref>

* No personal information is require to register an account, since the system relies upon "invite codes" from other users.
* The account management system does not use JavaScript.
* Riseup works reliably on mailing lists.
* POP email settings are available to download email and delete it from Riseup servers.
* The infrastructure is completely Tor-friendly. Onion services are available to help improve anonymity and circumvent censorship.
* The Whonix Project is unaware of any email accounts being suspended. <ref>It may have happened for spam abuse, but that is a separate issue.</ref>
* Riseup claims users' emails are personally encrypted on the servers, so they can only be unlocked and read with the account holder's password.

On the downside:

* Servers are hosted in the US. <ref>Home of the global surveillance-complex.</ref>
* In recent times, the warrant canary was [https://forums.whonix.org/t/riseup-net-likely-compromised not updated] on a fixed, regular basis. <ref>The provider also "forgot" to update the canary on multiple occasions.</ref> <ref>https://motherboard.vice.com/en_us/article/bmv34m/warrant-canary-for-activist-email-service-riseup-seemingly-expires</ref>
* Privacy by policy is not a guarantee of improved anonymity. For instance, Riseup claims that IP addresses are not logged is impossible to verify.

== Anonymity Friendly Email Provider List ==
{{mbox
| type      = notice
| image   = [[File:Ambox_notice.png|40px|alt=Info]]
| text       = None of the following providers are explicitly recommended by the Whonix team.
}}


As it is impossible to maintain an up-to-date list of possible providers who are anonymity-friendly, readers should undertake proper research before making a final decision. Another anonymity network provider (JonDonym) maintains a [https://anonymous-proxy-servers.net/en/help/email-provider.html list] ([https://archive.today/Rz9UN w]) of their recommended email providers. The Whonix team does <u>not</u> check this list for accuracy or completeness, but it might be a good starting point, even though many require payment. In late-2018, the following providers are listed:

* [https://www.aikq.de/ aikQ]
* [https://aktivix.org/ Aktivix]
* [https://www.autistici.org/get_service Autistici]
* [https://www.fastmail.fm/ FastMail]
* [https://kolabnow.com/ Kolabnow]
* [https://mailbox.org/ mailbox.org]
* [https://www.nadir.org/ nadir]
* [http://www.neomailbox.com/services/secure-email Neomailbox]
* [https://posteo.de/ Posteo]
* [https://www.riseup.net/ Riseup]
* [https://runbox.com/ runbox]
* [https://securenym.net/ SecureNym]

Also [https://en.wikipedia.org/wiki/Comparison_of_webmail_providers check this list] for possible alternatives. 

=== Onion Service Providers ===

This [https://www.reddit.com/r/emailprivacy/wiki/index#wiki_tor_accessible_hidden_webmail_providers Reddit thread] is actively curated and maintains a list of privacy-friendly (Tor-accessible) providers. In late-2018, the list of providers with onion services includes:

* AnonyMail ([http://fuacantanj2vhfpw.onion/anonymail v2 onion]) 
* Autistici.org ([http://wi7qkxyrdpu5cmvr.onion v2 onion])
* BitMessage.ch ([http://bitmailendavkbec.onion v2 onion])
* CicadaMail.com ([http://cadamailgxsy6ykq.onion v2 onion]) 
* Cock.li ([http://wwwcocklicdexedh.onion v2 onion])
* Danwin1210.me ([http://tt3j2x4k5ycaa5zt.onion v2 onion]
* EasyCrypt.co ([http://webmail.ezcrypt2dgcicxqj.onion v2 onion]) 
* Elude.in ([http://eludemaillhqfkh5.onion v2 onion])
* GuerrillaMail.com ([http://grrmailb3fxpjbwm.onion v2 onion])
* h4x0rz.ml ([http://xljoslkkijwgl5cr.onion v2 onion])
* Mail2Tor.com ([http://mail2tor2zyjdctd.onion v2 onion])
* Mailbit.io ([http://oxicsiwet42jw4h4.onion v2 onion])
* Mailbox.org ([http://kqiafglit242fygz.onion v2 onion])
* MailCity.ws ([http://eozm6j6i4mmme2p5.onion v2 onion]) 
* Novo-Ordo.com ([http://fxagitc26vmvq2rb.onion v2 onion]) 
* o3mail.org ([http://ozon3kdtlr6gtzjn.onion v2 onion]) 
* OnionMail.info (multiple onion servers)
* Paranoid.email ([http://paranoid2ezdphvm.onion v2 onion])
* ProtonMail.com ([https://protonirockerxow.onion/ v2 onion]) 
* RayServers.com ([https://nmf6cg7tiyqlhsg3.onion v2 onion])
* RiseUp.net ([http://nzh3fv6jc6jskki3.onion v2 onion]) 
* SCRYPTMail.com ([http://scryptmaildniwm6.onion v2 onion])
* secMail.pro ([http://secmailw453j7piv.onion v2])
* Systemli.org ([http://h2qkxasmmqdmyiov.onion v2 onion]) 
* TorBox ([http://torbox3uiot6wchz.onion v2 onion])
* VFEMail.net ([https://344c6kbnjnljjzlz.onion v2 onion])

= Encrypted Email =

The Mozilla Thunderbird email client, together with the add-ons Enigmail and TorBirdy <ref>[https://trac.torproject.org/projects/tor/wiki/torbirdy TorBirdy Homepage]</ref> <ref>[https://github.com/ioerror/torbirdy TorBirdy Source Code]</ref> are installed by default in Whonix. If used correctly, they can be used for easy GPG encryption and anonymous (or pseudonymous) email messaging.

A [[Encrypted_Email_with_Thunderbird_and_Enigmail|complete set of instructions]] is now available to:

# Install the latest TorBirdy plugin for the Thunderbird email desktop client.
# Create an email account anonymously with a suitable provider via Tor Browser.
# Setup the new email account: Thunderbird account settings, install necessary extensions (add-ons), and enforce connections to the email provider's Onion Service.
# Create an OpenPGP encryption key pair and revocation certificate using the Enigmail Setup Wizard.
# Encrypt and store the revocation certificate securely.
# Configure Thunderbird preferences for greater security and anonymity.
# Configure additional OpenPGP preferences via Enigmail.
# Key management: import GPG public keys.
# Export the public key to a GPG key server (optional).
# Prepare an email signature with the public GPG key ID and fingerprint (optional).
# Compose and send a test encrypted email.
# Open an encrypted email received in Thunderbird.

= Email Alternatives = 

== Anonymous Remailers ==

Anonymous [[Remailer|Remailers]] are a generation of privacy networks that precede Tor. These are single purpose networks (only support sending email) that use high-latency designs to defeat surveillance. The latest on-going project is the [[Mixmaster|Mixmaster network]]. While sending one-way messages is relatively straight forward, receiving replies requires registration with a [[Nymservers|Nymserver]] and setting up a program to fetch messages from the decentralized [[Usenet|Usenet]] boards.

== BitMessage ==

This entry has been moved [[BitMessage|here]].

== Freemail ==
Freemail<ref>https://github.com/freenet/plugin-Freemail/blob/master/docs/spec/spec.tex</ref> is an email system implemented upon the anonymous data distribution network [[Freenet|Freenet]]. It is most similar to I2P-Bote, another anonymous and distributed email solution.  

Like most Freenet plugins, it makes use of an anti-spam mechanism called the Web of Trust<ref>https://wiki.freenetproject.org/Web_of_Trust</ref> to block abusers. Attachment sizes are virtually unlimited. Users would upload files on Freenet and link to them in Freemail messages.

See recommended [[Freenet#Tips|tips]] for Freemail.

== I2P-Bote ==

{{Template:I2P-Bote}}

== Pretty Easy Privacy ==

pretty Easy privacy (p≡p) is a pluggable data encryption and verification system, which provides automatic key management and a KeySync protocol (yet being tested, not activated already) to sync private key material across the devices you want to read the same messages on.<ref>https://news.ycombinator.com/item?id=12827020</ref> It is cross-platform, message protocol agnostic and p2p. It exists as plugin for mail clients (Thunderbird and Outlook) on all major desktop systems and also as a mobile app for Android and iOS. Its cryptographic functionality is handled by open source p≡p engine relying on already existing cryptographic implementations in software like GnuPG, a modified version of netpgp (used only in iOS) and (as of p≡p v2.0) [[GNUnet]]. A non-transferable copyright cross-licensing agreement has just been concluded to allow distributing of the GNUnet binary as part of pEp under non-GPL licenses on restrictive platforms like the Apple store.<ref>https://lists.gnu.org/archive/html/gnunet-developers/2016-12/msg00046.html</ref>

In its default configuration, pEp does not rely on a web of trust or any form of centralized trust infrastructure, but instead lets users verify each others' authenticity by comparing cryptographic fingerprints in the form of natural language strings, which the pEp developers have chosen to call "trustwords". If both sides are using pEp, it automatically uses the anonymous transport provided by [[GNUnet]]. With that technology, meta data is no longer readable for an attacker. pEp is fully peer to peer itself. And only you have the keys. However it can inter-operate with legacy mail to secure that whenever applicable (if the intended recipient has a GPG key).<ref>https://pep-project.org/2014-09/s1410740156</ref> The pEp project is guided by a foundation that supports libre software.<ref>http://pep-project.org/</ref> Enigmail announced its intention to integrate the pEp encryption scheme by October 2016.<ref>https://en.wikipedia.org/wiki/Pretty_Easy_privacy</ref> pEp's code has been audited.<ref>https://pep.foundation/blog/press-release--pep-releases-first-code-audit-of-the-pep-engine/index.html</ref>

For further information on the project's check their [https://prettyeasyprivacy.com/faq/ milestones] [https://pep.foundation/pep-software/index.html pages].

= Footnotes / References =
{{reflist|close=1}}

= License =

<pre>Liberte Linux Philosophy page Copyright (C) 2013 Maxim Kammerer <mk at dee dot su>
Whonix Anonymity wiki page Copyright (C) 2013 - 2018 ENCRYPTED SUPPORT LP <adrelanos@riseup.net>

This program with ABSOLUTELY NO WARRANTY; for details see the wiki source code.
This is free software, and you are welcome to redistribute it
under certain conditions; see the wiki source code for details.</pre>
{{Footer}}

[[Category:Documentation]]

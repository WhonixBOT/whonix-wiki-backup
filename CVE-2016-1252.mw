{{Header}}
{{#seo:
|description=workaround for the apt-get verification bypass security issue
|image=https://www.whonix.org/w/images/1/1d/Chimpanzee-978809640.jpg
}}

If your apt version is <code>1.0.9.8.3</code> or lower, you should upgrade using the following method. If you are already using apt version <code>1.0.9.8.4</code> or higher, you can just do a regular [[Update|upgrade]].

To find our your current apt version.

{{CodeSelect|code=
dpkg-query --show apt
}}

Should show something like this.

<code>
apt     1.0.9.8.3
</code>

Update your package lists.

{{CodeSelect|code=
sudo apt-get update
}}

Enable pipefail.

{{CodeSelect|code=
set -o pipefail
}}

Check InRelease files for excessive line lengths. <ref>
Alternatively you could also run the following command.

{{CodeSelect|code=
wc -L "/var/lib/apt/lists/"*InRelease
}}

Then look at the line lengths. No line should exceed a line length of 1024 characters.
</ref> <ref>
https://github.com/marmarek/qubes-builder-debian/commit/d755d2dba79ca96187a30e1c34918c8a042c4b04
</ref>

<!-- EDITORS NOTE: '{{!}}' is a magic word for '|'.-->
{{CodeSelect|code=
wc -L "/var/lib/apt/lists/"*InRelease {{!}} awk '$1 > 1024 {print; exit 1}' ; echo $?
}}

Should show exactly. <ref>
<code>0</code> is the exit code and in bash shell that means success.
</ref>

<code>
0
</code>

Done.

forum discussion:

* [https://forums.whonix.org/t/how-to-upgrade-debian-whonix-etc-without-being-compromised-by-cve-2016-1252 users]
* [https://forums.whonix.org/t/apt-get-upgrading-security-issue-cve-2016-1252 technical]

----

==== Footnotes ====
{{reflist|close=1}}

{{Footer}}
[[Category:Documentation]]

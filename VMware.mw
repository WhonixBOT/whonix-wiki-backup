{{Header}}

= Status of VMware support in Whonix =

'''Current state of Whonix inside VMware:'''

* '''rarely tested'''
* '''it works, highly experimental'''
* '''VMware is closed source, therefore security through obscurity'''<ref>https://en.wikipedia.org/wiki/Security_through_obscurity</ref>.
* '''recommended against'''
* '''rather recommended to use Virtual Box'''

'''Whonix needs a contributor to support Whonix in VMware!''' <ref>

Important:

* Someone who runs those [[Test]], [[LeakTests]] and tests from [[Protocol-Leak-Protection_and_Fingerprinting-Protection]].
* Someone who otherwise looks around if everything is sane.

Ideal:

* Someone who creates, signs, uploads .ova images for VMware.
</ref>

= Supported VMware Products =

'''VMware Workstation''' was tested. It's currently in a ''it works'' state, but ''rarely tested''.

'''VMware Server''' or other products are ''untested'', but perhaps also in a ''it works'' state.

'''VMware Player''' <s>is unsupported, because I don't see an option for for internal networking.<ref><s>Perhaps [[OneVM]] could work with VMware, but that would require even more contributions.</s></ref></s> UPDATE: An anonymous user reported in the old forum<ref>https://sourceforge.net/p/whonix/discussion/general/thread/84452a10/?limit=25&page=1#8f27</ref> that VMware Player works as well. Untested by adrelanos. This [http://xmodulo.com/2013/02/how-to-create-multiple-networks-on-vmware-player.html guide] contains instructions how to set up the internal network.

= About VMware =

Maybe I am a spoilt by Free Software (see <ref>https://en.wikipedia.org/wiki/Free_software</ref> for definition). VMware is not very open, but in my opinion openness is important for security. I haven't found out how to submit a bug report. It looks like only buying customers may submit bug reports and there is only community support for products, which are free in price. There is also no list with open bugs. Without a list of known bugs, I am unable to determine if VMware is suitable for Whonix, i.e. does not compromise the user's anonymity. Since bug reports remained entirely unanswered,it's also demotivating to investigate, contribute and submit further report bugs.

= VMware upstream bug reports =

* [http://communities.vmware.com/thread/423920 VMware bug report: failed to import .ova image]
* [http://communities.vmware.com/thread/423924 VMware bug report: .ova image internal network becomes bridged network]
* [https://www.virtualbox.org/ticket/11160 Virtual Box bug report Ticket #11160: .ova image created with Virtual Box, failed to import in VMware]

= HowTo =

Do not forget to read the [[Documentation]].

You can either import the [[Download]] version of manually build from source. Import Whonix-Gateway.ova and Whonix-Workstation.ova. Due to a VMware upstream bug, you may have to press ''retry'' when importing the .ova images.

Due to a VMware upstream bug the network settings have to be adjusted.

* Whonix-Gateway set ''network adapter'' '''2''' to custom, ''/dev/vmnet8'' (or on Windows probably: ''vmnet8'').
* Whonix-Workstation set ''network adapter'' '''1''' to ''custom'', ''/dev/vmnet8'' (or on Windows probably: ''vmnet8'').

= Harden VMware =

* Remove printer
* Disable 3D acceleration
* Remove CD/DVD drive
* Remove floppy drive
* Remove USB controller (at least disable automatically connect new devices)
* Remove sound card
* Do not install VMware Tools or open-vm-tools (comfort vs. security)

= Security =

* Connect the virtual network adapter to custom. This is important! No host-only, no NAT, no bridging! I used VMnet9 virtual network, as it wasn't used by anything else.

One might wish to access the Whonix-Workstation through SSH. Therefore he could add a second network adapter with [http://www.vmware.com/support/ws55/doc/ws_net_configurations_hostonly.html Host-Only Networking]. Beware

<pre>
If you install the proper routing or proxy software on your host computer, you can establish
a connection between the host virtual Ethernet adapter and a physical network adapter on the
host computer. This allows you, for example, to connect the virtual machine to a Token Ring
or other non-Ethernet network.

On a Windows 2000, Windows XP or Windows Server 2003 host computer, you can use host-only
networking in combination with the Internet connection sharing feature in Windows to allow a
virtual machine to use the host's dial-up networking adapter or other connection to the
Internet. See your Windows documentation for details on configuring Internet connection
sharing.
</pre>

See also [[Security Guide]].

= Footnotes =
<references/>

{{Footer}}

[[Category:Documentation]]

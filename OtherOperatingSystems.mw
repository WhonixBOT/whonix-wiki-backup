{{Header}}

= Introduction =

The Whonix Framework<ref>[[Technical_Introduction#Whonix_Framework]]</ref> supports any operating system.

'''''Using a Whonix-Download-Workstation is easier and provides more Security out of the box!''''' It's your responsibility to get the same security features for a Whonix-Custom-Workstation, see [[Other_Operating_Systems#Security_Comparison:_Whonix-Download-Workstation_vs._Whonix-Custom-Workstation|Security Comparison: Whonix-Download-Workstation vs. Whonix-Custom-Workstation]] at the bottom of the page for details.

The Whonix-Gateway already supports torification of any operating system, including Microsoft Windows and others. As an transparent or isolating proxy, see below for more information.

= Windows-Whonix-Workstation =

XP, Vista and Windows 7 are are known to work behind Whonix-Gateway. While it's possible, it's not recommended and only for advanced users. This is because, there are issues with Windows. Those are not Whonix issues. Whonix developers can not fix those issues. One issue is, that Windows is closed source. Rather, Windows is affected by [https://trac.torproject.org/projects/tor/wiki/doc/TransparentProxyLeaks Transparent Proxy Leaks] and other issues. For more information and depending on your security requirements, read the following chapters.

== Easiest ==

Easiest, but least secure option.

(1). Download and use the default Whonix-Gateway.

Import it the same way you would do for Whonix-Default/Download-Version

(2). Create a VirtualBox VM.

VirtualBox -> Machine -> New -> Next -> Enter Name -> Enter Operating System and Version -> Next ->-> define RAM -> Next -> create a new hdd (or not) -> Next -> disk format doesn't matter, VDI works fine however -> Next -> dynamically or fixed size is a matter of preference -> Next hdd size and location is a matter of preference -> Next -> Create

(3). Switch VirtualBox VM settings.

Choose the newly created VM -> Settings -> System -> Motherboard -> Hardware Clock in UTC

System -> Processor -> Enable PAE/NX if available

Network -> Adapter 1 -> attached to Internal Network (Important!)

Network -> Adapter 1 -> Name (of Internal Network) (Important!): Whonix

USB -> uncheck Enable USB controller

-> OK

(4). Start VM and Install Operating System.

You don't have to install updates while installing. You can do that right after installing, after the network has been set up.

username: user computer name: host

(5). Configure network:

For Windows 7 (similar in Windows XP): In Control Panel -> Network and Sharing Center: click on "Change adapter settings" Right-click on local area connection &gt; properties In property window: double-click Internet Protocol Version 4, use the following settings:

<pre>
IP address 192.168.0.50
Subnet netmask 255.255.255.0
Default gateway 192.168.0.10
Preferred DNS server 192.168.0.10
</pre>

(6). Download operating system updates.

= Whonix-GNU/Linux-Workstation =

== Easiest ==

Easiest, but least secure option.

(1). Download and use the default Whonix-Gateway.

Import it the same way you would do for Whonix-Default/Download-Version

(2). Create a VirtualBox VM.

VirtualBox -> Machine -> New -> Next -> Enter Name -> Enter Operating System and Version -> Next -> define RAM -> Next &gt; create a new hdd (or not) -> Next -> disk format doesn't matter, VDI works fine however -> Next -> dynamically or fixed size is a matter of preference -> Next hdd size and location is a matter of preference -> Next -> Create

(3). Switch VirtualBox VM settings.

Choose the newly created VM -> Settings -> System -> Motherboard -> Hardware Clock in UTC

System -> Processor -> Enable PAE/NX if available

Network -> Adapter 1 -> attached to Internal Network (Important!)

Network -> Adapter 1 -> Name (of Internal Network) (Important!): Whonix

USB -> uncheck Enable USB controller

-> OK

(4). Start VM and Install Operating System.

You don't have to install updates while installing. You can do that right after installing, after the network has been set up.

username: user computer name: host

(5). Configure network:

Open a Terminal and type.

<pre>sudo nano /etc/network/interfaces</pre>

You only need to configure eth0:

<pre># This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

# The loopback network interface, leave as it is
auto lo
iface lo inet loopback

auto eth0
#iface eth0 inet dhcp
iface eth0 inet static
# increment last octet on additional workstations
       address 192.168.0.12
       netmask 255.255.255.0
       #network 192.168.0.0
       #broadcast 192.168.0.255
       gateway 192.168.0.10</pre>
Open /etc/resolv.conf.

<pre>sudo nano /etc/resolv.conf</pre>
and delete everything, then add

<pre>nameserver 192.168.0.10</pre>
(6). Download operating system updates.

Debian based Linux, such as Ubuntu:

<pre>sudo apt-get update &amp;&amp; sudo apt-get dist-upgrade</pre>
= More security =

Recommendations:

* Verify operating system installation CD, compare with sha256 hash or even better verify the gpg signature, if available.
* Install while the Virtual Machine has no internet connection.
* Set your username to ''user''.
* Disable Internet Time Syncing.
* Set your Time Zone to ''UTC''.
* Set up a static IP.
* In case you want to run more than one Whonix-Workstation at the same time, it's recommended reading the Introduction in the [[Multiple Whonix-Workstations]] article.
* Read [[Security Guide]], [[Documentation]] and [[Design]] (which is Whonix-Example-Implementation-Workstation (based on Debian GNU/Linux) specific) and try to apply as much from it to Windows as possible.

= Even more security =

== General ==

Recommendations:

* Prevent [https://trac.torproject.org/projects/tor/wiki/doc/TransparentProxyLeaks Transparent Proxy Leaks] by disabling Whonix-Gateway's Transparent Proxy feature. Instead use your Windows Whonix-Workstation behind an [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/IsolatingProxy Isolating Proxy]. See [[Stream Isolation]] for more information and instructions on how to disable the Transparent Proxy feature.
* Check your host clock out of band (use a watch or atomic clock).
* Set your host and your Workstation clock to show seconds as well. After booting the Whonix-Windows-Workstation, add a random skew to your clock, maybe +/- 1 to 30 seconds. Optimal values are still under investigation. For reference, see [[TimeSync|Whonix's Secure And Distributed Time Synchronization Mechanism]], it's Whonix-Example-Implementation-Workstation (based on Debian GNU/Linux) specific, but most information also applies to Windows. Since I am not aware of a tails_htp alternative for Windows, you have to do it manually.

== VM settings ==

'''TODO''': Check and expand.

In Whonix source code look into ''whonix_createvm'' for the functions general_setup, workstation_specific and hardware_modifications. Find out your VM name using.

<pre>vboxmanage list vms</pre>
You can and should drop the "sudo -u $USERNAME".

Apply all required settings. Not required (because recommended earlier or done by the gui creation process):

--name storagectl --memory --pae --hardwareuuid <sup>1</sup> sethduuid <sup>1</sup> --intnet1 --cableconnected1 --macaddress1 <sup>1</sup> --audiocontroller --audio

<sup>1</sup> You can only use those, if you are not using a Whonix-Default/Download-Workstation, otherwise they conflict.

Example:

<pre>VBoxManage modifyvm "yourvmname" --synthcpu on</pre>
= Most security =

Use the default Whonix VMs and build them yourself from source.

= Ubuntu =

== General ==

Moved to [[Ubuntu]]

== About Ubuntu ==

Moved to [[Ubuntu]].

== Guest additions for Ubuntu Precise ==

Moved to [[Ubuntu]].

= Debian =

Whonix-Default/Download-Version is already based on Debian Wheezy. In case you want to build on top of stable, sid or whatever, you may be interested to read:

* How to obtain Debian safely: [[Debian|Debian ISO gpg verification]]

= Security Comparison: Whonix-Download-Workstation vs. Whonix-Custom-Workstation =

== Introduction ==

Read first: [[Comparison_of_different_Whonix_variants | Comparison of different Whonix variants]]!

Note: Whonix-BuildYourselfFromSource-Workstation is of course the same as Whonix-Download-Workstation.

== Table ==

{| class="wikitable" style="background-color: #fff; text-align: center"
!
! Whonix-Download-Workstation
! Whonix-Custom-Workstation
|-
| align="left" | Based on
| Debian Wheezy GNU/Linux
| Any of your choice.
|-
| align="left" | Amnesic
| No
| No
|-
| align="left" | Protection against root exploits (Malware with root rights) on the Workstation <sup>18</sup>
| Yes <sup>1</sup><sup>a</sup>
| Yes <sup>1</sup><sup>a</sup>
|-
| align="left" | IP/DNS protocol leak protection
| Full <sup>1</sup>
| Full <sup>1</sup>
|-
| align="left" | Takes advantage of Entry Guards
| Yes
| Yes
|-
| align="left" | Operating System Updates persist once updated
| Yes
| Depends if gets installed or is a Live CD.
|-
| align="left" | Hides hardware serials from malicious software
| Yes <sup>16</sup>
| Yes <sup>16</sup>
|-
| align="left" | Collects (virtual) hardware serials
| No
| Depends on the custom operating system
|-
| align="left" | Includes Tor Browser
| Yes
| Your responsibility to install Tor Browser. <ref name=tb>For help using Tor Browser without Tor over Tor (recommended), see https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/WebBrowsers and http://www.wilderssecurity.com/showthread.php?t=339051&page=14 beginning from "Does anyone know if separating tor and vidalia from the browser is possible?".</ref>
|-
| align="left" | Includes Firefox privacy patches <ref>https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO/WebBrowsers</ref> and Tor Button (=Tor Browser)
| Yes, because it uses Tor Browser (without Tor/Vidalia).
| Your responsibility to install Tor Browser. <ref name=tb />
|-
| align="left" | Prevents [[DoNot#Prevent_Tor_over_Tor_scenarios.|Tor over Tor]] for Tor Browser
| Yes
|  Your responsibility to prevent Tor over Tor. <ref name=tb />
|-
| align="left" | Stream isolation to prevent identity correlation through circuit sharing
| Yes
| Your responsibility to use Stream Isolation.
|-
| align="left" | Stream isolation in Tor Browser
| No <sup>14</sup>
| No <sup>14</sup>
|-
| align="left" | Encryption
| Should be applied on host.
| Should be applied on host.
|-
| align="left" | Cold Boot Attack Protection <sup>8</sup>
| No
| No
|-
| align="left" | Secure Distributed Network Time Synchronization
|  Yes
| Your responsibility to install it.
|-
| align="left" | Hides your time zone (set to UTC)
| Yes
| Your responsibility to set clock to UTC.
|-
| align="left" | Hides your operating system account name
| Yes, set to user.
| Your responsibility to set username to user.
|-
| align="left" | Hides your MAC address from websites
| Invalid <sup>19</sup>
| Invalid <sup>19</sup>
|-
| align="left" | Secures your MAC address from local LAN (sometimes ISP) <sup>20</sup>
| No, planned, see. <sup>21</sup>
| Your responsibility. <sup>20</sup>,<sup>21</sup>
|-
| align="left" | Hides your hosts MAC address from applications
| Yes <sup>24</sup>
| Yes <sup>24</sup>
|-
| align="left" | Secure gpg.conf
| Yes
| Your responsibility to use a secure gpg.conf.
|-
| align="left" | Privacy enhanced IRC client configuration.
| Yes
| Your responsibility to configure the IRC client for enhanced privacy.
|}

== Footnotes ==

Same footnotes as in [[Comparison_with_Others#Comparison_of_Whonix.2C_Tails.2C_Tor_Browser_Bundle_and_Qubes_OS_TorVM|Comparison of Whonix, Tails, Tor Browser Bundle and Qubes OS TorVM ]] and [[Tor Browser]].

== Conclusion ==

The Whonix-Download-Workstation is already preconfigured with all Whonix extra security features.

A Whonix-Custom-Workstation ''can be made'' (Your responsibility!) as secure as a Whonix-Download-Workstation. If you simply create <ref>Install or use a Live CD/DVD into Whonix-Workstation.</ref> a Whonix-Custom-Workstation it has still ''some'' security advantages, for example full IP/DNS protocol leak protection, but ''not all'', for example it lacks Secure Distributed Network Time Synchronization. The details are listed in the table above.

== References ==
{{reflist}}

{{Footer}}

[[Category:Documentation]]

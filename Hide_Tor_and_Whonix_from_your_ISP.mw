{{Title|title=Hide Tor and {{project name}} use from the ISP}}
{{Header}}
{{#seo:
|description=Prevent the Internet Service Provider from discovering you are a Tor / {{project name}} user.
|image=https://www.whonix.org/w/images/c/c4/Cat-1040815640.jpg
}}

= Introduction =

In many cases {{project name}} users are likely to be Tor "power users" who:

* Have higher security and anonymity goals than normal Tor users; and
* Often host [[Onion Services]] and pair other advanced configurations with Tor.

Various adversaries might ask themselves why individuals are choosing to adopt a hardened platform. Depending on your assessed threat model and location, government policies on Tor might necessitate the hiding of {{project name}} and/or Tor use from the Internet Service Provider (ISP).

= General Advice =

'''Table:''' ''General Advice''

{| class="wikitable"
|-
! scope="col"| '''Category'''
! scope="col"| '''Description'''
|-
! scope="row"| Bridges Only
| Using private and obfuscated bridges alone does not provide strong guarantees of hiding Tor use from the ISP. As Jacob Appelbaum has noted: <ref>https://mailman.boum.org/pipermail/tails-dev/2013-April/002950.html</ref> <ref>http://www.webcitation.org/6G67ltL45</ref>
<blockquote>
Some pluggable transports may seek to obfuscate traffic or to morph it. However, they do not claim to hide that you are using Tor ''in all cases'' but rather in very specific cases. An example threat model includes a DPI device with limited time to make a classification choice - so the hiding is very specific to functionality and generally does not take into account endless data retention with retroactive policing.
</blockquote>
|-
! scope="row"| Hide Tor Use
| 
Hiding the fact that you are a Tor user is difficult and you must be very careful. Some tips are below, but it is recommended to read this entire page: <br />
* Prefer private obfuscated bridges or VPN/SSH tunnels: This configuration is preferred over public obfuscated bridges. The reason is the latter have a greater likelihood of being censored, simply because they are publicly listed. <br />
* To hide Tor from the ISP it might be safest to combine both private obfuscated bridges and a VPN/SSH, by connecting to the VPN/SSH relay first and then connecting to the private obfuscated bridge. <br />
** On the other hand, solely using a private obfuscated bridge (i.e. no VPN/SSH) would be preferable for those who want to hide that they are using Tor and do not want to "come on the radar" by utilizing a VPN or SSH.
|-
! scope="row"| Hide {{project name}} Use
| 
* Hiding the fact that you are using {{project name}} is relatively easy, because {{project name}} itself is exclusively generating Tor activity on the network. To find out how easy/difficult it is for an ISP to detect {{project name}} see the [[Fingerprint]] page for details. <br />
* If you download {{project name}} over Tor, using [https://www.torproject.org/download/download-easy.html.en Tor Browser], the fact that you are using {{project name}} will be hidden. {{TorifiedGateway}}
|-
! scope="row"| VPN/SSH Strength
| Using a VPN or SSH does not provide a strong guarantee of hiding Tor use from the ISP either. <ref>[[Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services#Comparison_of_Tor_and_VPN_services]]</ref> VPNs and SSHs are vulnerable to an attack called {{Code|website traffic fingerprinting}}. <ref>For a reference for {{Code|website traffic fingerprinting}}, see [https://trac.torproject.org/projects/tor/wiki/doc/TorPlusVPN#VPNSSHFingerprinting VPN/SSH Fingerprinting] [http://www.webcitation.org/6Gmywywoj (w)].</ref>
|}

= Warnings =

'''Table:''' ''Hiding Tor / {{project name}} Considerations''

{| class="wikitable"
|-
! scope="col"| '''Category'''
! scope="col"| '''Description'''
|-
! scope="row"| Building from Source
| 
* Building {{project name}} learning resources can be accessed with Tor Browser. <br />
* If {{project name}} is built from source, the build scripts will download a specific set of software packages with apt-get, Tor Browser with curl, update-command-not-found etc. and the ISP might recognize this activity. <br />
* If you understand the build scripts, {{project name}} can be built by applying the commands and configuration files manually. <br />
* See also [[Dev/Build Anonymity]].
|-
! scope="row"| Known VPN/SSH User
| Consider whether the ISP knowing you are a VPN/SSH user is an acceptable risk.
|-
! scope="row"| Safe Configuration
| Setup the SSH/VPN tunnel and/or private obfuscated bridges first -- depending on the desired configuration, read this entire section.
|-
! scope="row"| Secure Tor Download
| Download Tor through a trusted ISP in your (home) country or through SSH/VPN, particularly before entering a hostile environment.
|-
! scope="row"| Secure {{project name}} Download
| 
* For better security, download the [[Supported Platforms|supported platform]] over Tor. <br />
* If {{project name}} is downloaded from whonix.org ("clearnet") then the download is encrypted. However, the ISP (or SSH/VPN provider) can conclude from the traffic volume that a {{project name}} platform was downloaded.
** A possible workaround is downloading {{project name}} with the official Tor Browser.
|-
! scope="row"| Secure {{project name}} Operation
| From {{project name}} 7 onwards, it has been unnecessary to turn off the network connection before starting {{project name}} for the first time, <ref>In previous versions (up to {{project name}} v0.5.6) this was necessary to prevent connections to the public Tor network.</ref> thanks to {{Code2|{{project_name}} Setup Wizard - Connection Wizard}} and its sucessor [[Anon_Connection_Wizard|Anon Connection Wizard]]. Therefore, hiding Tor / {{project_name}} usage relies upon either a SSH/VPN or private obfuscated bridge, as outlined on this page.
|-
! scope="row"| Trusted Sources
| If you think about it, how is it possible to obtain Tor Browser and obfuscated bridges and/or VPN/SSH without the ISP noticing? This is a classic chicken-and-egg problem. The answer is receiving these resources from a trusted source. This problem cannot be solved by {{project name}} and it is a Tor upstream question.
|}

= Methods =

== Using a Proxy ==

<u>It is impossible to safely use a proxy!</u> The connection between the user and the proxy is unencrypted and this applies to all proxies: http, https, socks4, socks4a and socks5. <ref>[[Comparison_Of_Tor_with_CGI_Proxies,_Proxy_Chains,_and_VPN_Services|Comparison Of Tor with CGI Proxies, Proxy Chains, and VPN_Services]]</ref> This means the ISP can still clearly see that connections are made to the Tor network. This fact is only mentioned here because proxies are constantly (falsely) suggested as a solution whenever this topic comes up in public arenas.

== Using SSH or VPN ==

See the [[#Warnings|Warnings]] above first. By default all {{gateway_product_name}} traffic is routed through Tor, meaning that traffic <u>must</u> first be routed through SSH/VPN. To tunnel all Tor-related traffic this way:
# See [[Tunnels/Introduction|Combining Tunnels with Tor]] and ignore the proxy-related material.
# Next read:
* [[Tunnels/Connecting_to_SSH_before_Tor|Connecting to SSH before Tor]]; or
* [[Tunnels/Connecting_to_a_VPN_before_Tor|Connecting to a VPN before Tor]]

Either of these configurations will hide Tor use from the ISP. If the server is outside a national firewall, then this is also a way to circumvent Tor censorship.

If zero trust is placed in any SSH or VPN providers, then anonymously host your own in a safe place. However, this cannot be hosted in the same location where you want to hide Tor -- a safe, <u>remote</u> place is required which has a different IP from your own.

== Using Private and Obfuscated Bridges ==

See the [[#Warnings|Warnings]] above first. [[Anon_Connection_Wizard#Configure_Tor_Bridges|Anon Connection Wizard]] can configure Tor to use private and obfuscated [[Bridges]]. This will make it harder for ISPs and national firewalls to detect and block Tor, but it does not prevent a determined and well-resourced adversary from finding out that you are using Tor; research is ongoing, see obfsproxy.

= Footnotes =
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

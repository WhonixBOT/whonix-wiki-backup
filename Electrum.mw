{{Title|
title=HowTo: use Electrum in Whonix
}}
{{Header}}
{{#seo:
|description=HowTo: use Electrum in Whonix
|og:image=https://www.whonix.org/w/images/c/cb/Electrum.png
}}

[https://electrum.org/ Electrum] is a popular Bitcoin wallet. The non-official thin client Electrum appears to be well designed. It does not need to download/verify the blockchain and users store their private keys locally, which eliminates the need to trust third-party severs. <ref>Some Bitcoin wallets other than Electrum are affected by this: If the third-party sever was ever compromised, all of the users' bitcoins could be stolen. There is also the possibility that the third-party could lose a user's private keys or walk away with them.</ref>

{{mbox
| image   = [[File:Ambox_warning_pn.svg.png|40px]]
| text    = Prior to installing Electrum read [[Install_Software#Install_from_Debian_testing|Install software from Debian testing]] to understand the risks involved. Mixing packages from Debian <code>stable</code> with later release packages like Debian <code>testing</code> can lead to instability. <ref>It is recommended to create a [[Multiple_Whonix-Workstations|separate Whonix-Workstation]] to install Electrum due to these risks.</ref>
}}

=== Install Electrum ===
'''1.''' {{Open a Whonix-Workstation Terminal}}

'''2.''' In Whonix-Workstation (<code>whonix-ws-14</code> [[Qubes-Whonix]]) konsole, add Debian stable codename "<code>{{Stable_Whonix_based_on_Debian_codename}}</code>" to the <code>Apt-conf</code> <i>default-release</i>. 

{{Open with root rights|filename=
/etc/apt/apt.conf.d/70defaultrelease
}}

Add the following text.

{{CodeSelect|code=
APT::Default-Release "{{Stable_Whonix_based_on_Debian_codename}}";
}}

Save and exit.

'''3.''' Add the current Debian testing codename <code>"{{Debian_Codename_Testing}}"</code> to <i>sources.list.</i>

{{CodeSelect|code=
sudo su -c "echo -e 'deb http://http.debian.net/debian {{Debian_Codename_Testing}} main' > /etc/apt/sources.list.d/testing.list"
}}

Or alternatively use the <i>.onion</i> mirror. 

{{CodeSelect|code=
sudo su -c "echo -e 'deb tor+http://{{Debian_onion}}/debian {{Debian_Codename_Testing}} main' > /etc/apt/sources.list.d/testing.list"
}}

'''4.''' [[Operating_System_Software_and_Updates#Updates|Update]] the package lists.

{{CodeSelect|code=
sudo apt-get update
}}

'''5.''' Install Electrum from the current Debian testing codename <code>"{{Debian_Codename_Testing}}"</code> repository.

{{CodeSelect|code=
sudo apt-get install electrum/{{Debian_Codename_Testing}}
}}

'''6.''' Undo.

On occasion it is necessary to undo this configuration, for example when upgrading from Debian <code>{{Stable_Whonix_based_on_Debian_codename}}</code> to <code>{{Debian_Codename_Testing}}</code>. <ref>Most often this step applies before attempting major Whonix upgrades; upgrade instructions are also made available at that time (see [[Stay_Tuned|stay tuned]]).</ref> To proceed, run.

Delete Debian testing repository list.

{{CodeSelect|code=
sudo rm /etc/apt/sources.list.d/testing.list
}}

Delete apt Default-Release configuration.

{{CodeSelect|code=
sudo rm /etc/apt/apt.conf.d/70defaultrelease
}}

=== Starting Electrum ===

Please refer to the official Documentation at [http://docs.electrum.org docs.electrum.org] for comprehensive instructions, as well as more advanced topics like Cold Storage of private keys.

{{mbox
| type      = notice
| image   = [[File:Ambox_notice.png|40px|alt=Info]]
| text       =Users should create a wallet with a [[Passwords|Strong Password]]!
}}

([[Non-Qubes-Whonix]])

<code>KDE Applications Menu</code> -> <code>Internet</code> -> <code>Electrum</code>

([[Qubes-Whonix]])

<code>Qubes applications menu</code> -> <code>AppVM</code> -> <code>Electrum</code>  

[[Qubes-Whonix]] users are recommended to set up a [https://qubes-os.org//doc/split-bitcoin/ Split Bitcoin Wallet] to better protect their private keys.

'''Optional but recommended for better [[Stream Isolation]].

'''1.''' When starting Electrum for the first time, users are prompted with the question <i>"How do you want to connect to a server"</i>.  Choose <i>"Select server manually"</i> -> press <i><Next></i>.

[[Image:Electrum_select_server_manually.png]]


'''2.''' Re-enable "Select server automatically".

[[Image:Electrum_select_server_automatically.png]]


'''3.''' Change the Proxy setting to <code>SOCKS5</code> with host: <i>10.152.152.10</i> and port: <i>9111</i>. Press <i><Next></i> and the application should be fully functional.

[[Image:Electrum_use_proxy_socks5_.png]]

'''Note:''' If Electrum is already set up but Stream Isolation was not enabled, then navigate to <code>Tools</code> -> <code>Network</code> in Electrum to bring up the server and proxy settings.

= Footnotes = 
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]

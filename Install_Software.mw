{{Header}}
{{#seo:
|description=Installing additional Software on Whonix. Safety considerations.
}}
= Easy =

One of the main goals of Whonix is to greatly reduce the risk through any (additional) software not exclusively designed to use with Tor.

You can install any software inside Whonix-Workstation using ''apt-get'', since it's based on Debian.

Whonix is currently the safest method to run Tor-unsafe applications such as Adobe Flash (see the [[Comparison_with_Others#Flash_.2F_Browser_Plugin_Security|comparison]]).

This is '''not''' a recommendation for installing additional software.

On the [[Software]] page you'll find:

* Applications for different tasks, which are already installed on Whonix by default.
* Software recommendations for different tasks.
* Safety advice.
* Installation instructions.

= GUI Applications with Root Rights =
Never login as {{Code2|root}} user ({{Code2|sudo su}} or run GUI applications using {{Code2|sudo application}}. This will fail. You will see error messages such as.

<pre>
No protocol specified
</pre>

<pre>
cannot connect to X server :0
</pre>

As KDE user (Whonix default) use {{Code2|kdesudo application}}. Otherwise use {{Code2|gksudo application}}.

= More Security =

== Introduction ==

Installing additional software... (see the [[Comparison_with_Others#Security|comparison]])

'''Advantages:'''

* You can install your favorite software packages. Almost any application with a few exceptions listed under [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO#Howtotorifyspecificprograms impossible to torify].
* You are protected from IP and DNS leaks. (Read above for details.)
* You have some, but no perfect [[Protocol-Leak-Protection and Fingerprinting-Protection]].

'''Disadvantages:'''

* You should still try to prevent any other [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO#Protocolleaks protocol leaks] using the [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO TorifyHOWTO] (but most of those are mitigated by using Whonix).
* When you are updating using apt-get, you'll leak which software packages and versions you have installed, see [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO#Softwareupdaters Software updaters]. This information can not be directly linked to any other activity, such as web browsing, because the Whonix apt-get uwt wrapper forces apt-get to go through its own circuit. But there are still risks for [[Stream Isolation|correlation]] to the same pseudonym. <ref>For example, if you announced somewhere, that you are an X user and have a specific set of x, y, and z installed, this information may be available to an adversary. If you run apt-get (which goes through its own circuit) through any exit relays, mirrors or ISP's controlled by the adversary, it's possible for the adversary to guess, that it's the same pseudonym, which is running it. In that case the adversary gets your list of installed packages, can run stale mirror attack (only if you are using a custom build using Ubuntu, see About Ubuntu), or can try other attacks against apt-get.</ref> <ref>Another example, if you run a hidden service with a specific set of server software, let's say apache, mediawiki, phpbb, x, y, z... it's similar to the previous note.</ref>
* If you install additional software, you always increase the attack surface<ref>https://en.wikipedia.org/wiki/Attack_surface</ref>.

You should update using the guidelines [[#How to install or update with most caution?|below]].

Extra care is needed when adding extra custom repositories, especially PPA's (Personal Package Archives). Single developers may be pressured and/or turn malicious more easily than the main repositories.

Read [[Protocol-Leak-Protection and Fingerprinting-Protection]] first! (Many leaks, such as DNS and IP related leaks do not apply to Whonix; etc.)

The [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO TorifyHOWTO] contains documentation about [https://trac.torproject.org/projects/tor/wiki/doc/TorifyHOWTO#Protocolleaks protocol leaks] and how to mitigate them.

Also see [https://trac.torproject.org/projects/tor/wiki/doc/TransparentProxyLeaks Transparent Proxy Leaks]. (Mostly Microsoft Windows related)

== How to install or update with most caution? ==

# Stop all your activities. <ref>One way to do it is using Arm (see [[Tor Controller]]): Go to your Whonix-Gateway and start <code>arm</code>. Press ''m'' for menu, go down to ''New Identity'' and press enter.</ref>
# Change your circuit. <ref>Maybe not, if you're running a hidden service?</ref>
# Update using apt-get after a random delay.
# Change your circuit again.
# Continue your activities later with a random delay.

= Whonix-Workstation is firewalled =
'''This is just an informational chapter if you are interested in server software or other advanced or otherwise uncommon applications.'''

This means:

* does not support incoming connections
** however, if you make outgoing connections, the following incoming connections are accepted (web browsing, irc, etc. works)
** so called server ports
** or also called open ports
** Ident Protocol / web server listening port is not reachable, unless you explicitly configure it
* you can host [[Hidden Services]]
* the firewall can be found on the Whonix-Gateway {{WhonixFirewall}}
* Standard DNS requests on UDP port 53 will be redirected to Tor's DnsPort. If you change the DNS server in /etc/resolv.conf in Whonix-Workstation, this will probably have no effect, since the firewall on Whonix-Gateway will redirect all those requests to Tor's DnsPort. (However, if you are tunneling/encrypting a DNS request, as per [[Secondary DNS Resolver]] (DNSCrypt, httpsdnsd) it will work.)

Also note:

* Tor does not support UDP. This is not a Whonix issue. <ref name=onioncat>Perhaps [[OnionCat]] with Whonix can be a suitable workaround.</ref>
* Tor does not support IPv6. This is not a Whonix issue. <ref name=onioncat />
* {{TorifiedGateway}} (<-- read the footnotes)

Whonix's firewall on the Whonix-Gateway is very restrictive. You can make it even more restrictive by activating #OptionalFeatureNr.3# within the firewall script. It's possible to limit, which outgoing ports will be redirected to Tor's TransPort. Depending on what you want to achieve, it could be useful to remove all SocksPorts.

Related:<br />
[[Whonix-Workstation_Firewall|Whonix-Workstation Firewall]]

= Footnotes =
<references />

{{Footer}}

[[Category:Documentation]]

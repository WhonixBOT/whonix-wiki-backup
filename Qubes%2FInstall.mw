{{Title|
title=How-to: Install the Stable Version of {{q_project_name}} {{VersionShort}}
}}
{{Header}}
{{#seo:
|description=How to Install {{q_project_name}} {{VersionShort}}
|image=https://www.{{project_clearnet}}/w/images/e/e2/Qubesinstall12312123.png
}}
[[image:Qubesinstall12312123.png|200px|thumb]]
{{Qubes Install Introduction}}

== Remove Old Versions ==
{{mbox
| type    = notice
| image   = [[File:Ambox_notice.png|40px|alt=Info]]
| text    = <u>{{Q project name}} 15 to {{Q project name}} 16 Release Upgrade Note</u>: If {{Q project name}} 15 is installed and you want to get {{Q project name}} 16, there is no need to uninstall {{Q project name}} 15 before proceeding. This is because the new templates (<code>whonix-ws-16</code>, <code>whonix-gw-16</code>) will be installed alongside the old templates (<code>whonix-ws-15</code>, <code>whonix-gw-15</code>).

In that case, after {{Q project name}} 15 Templates installation, App Qubes previously using {{Q project name}} 15 templates will keep using them. Templates of any App Qubes are not automatically changed to the newly installed {{Q project name}} 16 templates. <ref>
This is a Qubes default and [[unspecific]] to {{Q project name}}.
</ref> The rationale behind this is to avoid unexpected changes of the Template an App Qube is using without the user's consent. <ref>
As this might result in breakage such as custom installed applications in the old Template would not be available in the new Template.
</ref> The user may manually change any Template still using {{Q project name}} 15 Templates to the {{Q project name}} 16 Templates. Tickets:

* [https://github.com/QubesOS/qubes-issues/issues/5183 Qubes-Whonix ticket:]
* [https://github.com/QubesOS/qubes-issues/issues/6904 Qubes ticket: improve process for migrating from older customized TemplateVM to newer (e.g. Debian 10->11, Fedora 33->34)]
}}

{{Box|text=
{{Qubes Remove Old Versions
|extra_link=
}}
}}

== Update dom0 ==
{{Qubes_upgrade_dom0}}

== Adjust Whonix Version Number ==
{{Qubes Adjust Whonix Version Number}}

Please report if this step was necessary or not.

== Download {{project name}} Templates and Configure <code>{{gateway_product_name_vm}}</code> and <code>anon-whonix</code> ==
{{Qubes Download Install}}

{{Anchor|Qubes R4 Only: Optional {{project name}} Disposable Template}}

= Optional Steps =

== {{project name}} Disposable Template ==
{{Qubes Install DVM}}

{{Anchor|Optional: Updates over Tor}}

== Updates over Tor ==
{{Qubes Install Updates over Tor}}

== Enable AppArmor ==
<div class="toccolours mw-collapsible mw-collapsed">
[[Test|Testers wanted!]] If you are interested, click on Expand on the right.
<div class="mw-collapsible-content">
{{Qubes_AppArmor}}
</div>
</div>

= Update and Launch Applications =
{{Qubes Install Update and Launch Applications}}

= Additional Information =

== Warnings ==
{{First_Time_User}}

It is recommended to refer to these additional references:

* [[Known_Issues|Known Issues]]
* {{Post Install Advice}}
* [[Stay_Tuned|Follow {{project name}} Developments]]

== Reinstallation Errors ==

In Qubes R4.0, after uninstalling old {{project name}} templates and attempting reinstallation via:

{{CodeSelect|code=
[user@dom0 ~]$ sudo qubesctl state.sls qvm.anon-whonix
}}

The result is.

{{CodeSelect|code=
'state.sls' is not available.
DOM0 configuration failed, not continuing
}}

The solution is to restart Qubes after uninstalling old {{project name}} versions.

= Footnotes =

{{reflist|close=1}}
{{Footer}}
[[Category:Documentation]]

{{Header}}
{{Title|
title=sdwdate - Secure Distributed Web Date - Homepage
}}
{{#seo:
|description=sdwdate - Secure Distributed Web Date - Homepage
|image=https://www.whonix.org/w/images/7/7e/Sunset-1331088640.jpg
}}

Time keeping is crucial for security, privacy, and anonymity. Sdwdate is a Tor friendly replacement for rdate and ntpdate that sets the system's clock by communicating vian onion end-to-end encrypted TCP with Tor onion webservers. Time providers are exclusively reputable sources (whistle-blowing and privacy friendly onion sites) that are highly likely to be hosted on different hardware.

At randomized intervals, sdwdate connects to a variety of webservers and extracts the time stamps from http headers (RFC 2616).

Comparison of sdwdate and ntp
{| class="wikitable" style="background-color:#fff;text-align:center"
|- style="background-color: #f9f9f9"
| style="height:30px"| || style="width:125px"| '''[https://github.com/Whonix/sdwdate sdwdate] || style="width:125px"| '''ntp''' 
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| written in memory-safe language
| {{Yes}}
| {{No}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| distributed trust
| {{Yes}}
| {{No}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| secure connection by default (authentication and encryption)
| {{Yes}}
| {{No}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| gradual clock adjustments
| {{Yes}}
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| daemon
| {{Yes}}
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| works over [https://www.torproject.org Tor]
| {{Yes}}
| {{No}} <ref>Requires UDP which is unsupported by Tor, see [[Tor#UDP]].</ref>
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| does not require Tor
| {{No}}
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| client, time fetcher
| {{Yes}}
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| server, time provider
| {{No}}, not yet
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| Apparmor profile
| {{Yes}}
| {{Yes}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| drop-in config folder
| {{Yes}}
| {{No}}
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| proxy support
| {{Yes}}
| {{No}} <ref>http://lists.ntp.org/pipermail/questions/2007-October/015754.html</ref> <ref>http://linux.derkeiler.com/Mailing-Lists/Debian/2003-07/0361.html</ref>
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| can be secured by default on linux distribution level
| {{Yes}}
| {{No}} <ref>[https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=%23687166 NTP security vulnerability because not using authentication by default]</ref>
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| secure
| {{Yes}}
| {{No}} <ref>See [[Dev/TimeSync#NTP]].</ref>
|-
| style="height:35px;width:70px;background-color: #f9f9f9"| optional gui
| {{Yes}}, [[sdwdate-gui]] (a systray icon)
| {{No}}
|}

See also:

* [[Time_Attacks|Time Attacks]]
* [[Dev/TimeSync|Dev/TimeSync]]
* [[sdwdate-gui]]

TODO:

* server, time provider
* sdwdate issue tracker:<br />
https://phabricator.whonix.org/project/view/6/

=== Authentication of Servers ===
[https://github.com/Whonix/sdwdate sdwdate] only connects to Tor onion services, which are encrypted by default and do not rely on SSL CA's. It also uses three different pools of time sources, and if there are too many that fail for any given pool, e.g. because of replying with invalid data or being unreachable, the pool is considered to be potentially compromised and sdwdate aborts.

=== sdwdate source pools ===
What sources should be trusted? This is of course also a problem with NTP.

The sdwdate pools used by Whonix are based on stable and reliable Tor onion service web servers. They are categorized into three different pools according to their members' relationship to the members in the other pools; any member in a one pool should be unlikely to share logs (or other identifying data), or to agree to send fake time information, with a member from the other pools.

The pools are listed in [https://github.com/Whonix/sdwdate/blob/master/etc/sdwdate.d/30_default.conf /etc/sdwdate.d/30_default.conf].

Basically, sdwdate picks three random servers - one from each pool, and then builds the mediate of the three advertised dates.

sdwdate is only using 'pal' pools. Not using 'neutral' and 'foe' pools as tails_htp, because no good reasoning for that has been provided. <ref>
https://github.com/Whonix/Whonix/issues/310
</ref> <ref>
https://labs.riseup.net/code/issues/8283
</ref>

=== Trusted Time Sources ===
The sources are listed here to keep track of pool candidates:

* https://en.wikipedia.org/wiki/SecureDrop
* https://freedom.press/securedrop/directory
* https://www.riseup.net/en/tor#riseups-tor-hidden-services
* https://en.wikipedia.org/wiki/GlobaLeaks#GlobaLeaks_uses
* site:http://leakdirectory.org onion

= Footnotes =
<references />

{{Footer}}

[[Category:Documentation]]

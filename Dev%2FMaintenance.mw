{{Header}}
{{#seo:
|description=Design Documentation about Redistribution of Whonix
}}

= package stable upgrade =
<pre>
reprepro --basedir /home/user/Whonix/aptrepo_remote --outdir /home/user/whonix_binary/aptrepo_remote --dbdir /home/user/whonix_binary/aptrepo_remote/db --logdir /home/user/whonix_binary/aptrepo_remote/log includedeb jessie-proposed-updates /home/user/Whonix/packages/*.deb
</pre>

= Tor Browser hardcoded version file =
Keep Tor Browser hardcoded version file up to date.

* subscribe to tor-announce mailing list to be notified of new Tor Browser stable releases
* check if it is already manually downloadable going through torproject.org
* keep [https://github.com/Whonix/tb-updater/blob/master/usr/share/tb-updater/tbb_hardcoded_version /usr/share/tb-updater/tbb_hardcoded_version] updated
* to manually test from a Qubes AppVM

<pre>
CURL_PROXY=--fail tbb_version=6.0 qubes_vm_type=TemplateVM  update-torbrowser --postinst
</pre>

<pre>
reprepro --basedir /home/user/Whonix/aptrepo_remote --outdir /home/user/whonix_binary/aptrepo_remote --dbdir /home/user/whonix_binary/aptrepo_remote/db --logdir /home/user/whonix_binary/aptrepo_remote/log includedeb jessie-proposed-updates /home/user/Whonix/packages/tb-updater_3.7.1-1_all.deb
</pre>

= Whonix repository TPO packages =
* keep mirroring http://deb.torproject.org/torproject.org/dists/jessie/ to whonix.org repository
** do a developer test (upload to developers repository?)
** upload to stable-proposed-updates (currently: jessie-proposed-updates) for wider testing
** upload to stable (currently: jessie)

<pre>
sudo -E ./build-steps.d/1200_create-debian-packages --build --allow-untagged true --allow-uncommitted true --internalrun --target root --function "get_tpo_packages ; create_whonix_repository"
</pre>

= See Also =
* [[Dev/APT Repository]]

<references />

{{Footer}}

[[Category:Development]] [[Category:Design]]

{{Header}}
{{#seo:
|description=Getting Transparent Proxying working for Whonix-Gateway's own traffic.
|image=https://www.whonix.org/w/images/6/6a/Traffic-332857640.jpg
}}

{{TorifiedGateway}}

Whonix-Workstation has the transparent proxying feature enabled by default. (You could [[Stream_Isolation#Better_Protection|disable it]] if you wanted to.)

Whonix-Gateway has by default no transparent proxying feature. This article explains how you could enable it. There are no known use cases besides [[Dev/Leak Tests|leak testing]].


= HowTo: Enable Transparent Proxying for Whonix-Gateway's own Traffic =
{{Box|text=
'''Advanced users only!''' <br />
'''Usually recommended against and unnecessary!'''

{{Firewall Settings Gateway}}

Add the following content.

{{CodeSelect|code=
GATEWAY_TRANSPARENT_TCP=1
GATEWAY_TRANSPARENT_DNS=1
}}

Save.

{{Reload Firewall}}

{{Open /usr/local/etc/torrc.d/50_user.conf}}

Add the following content.

{{CodeSelect|code=
TransPort 127.0.0.1:9041
DnsPort 127.0.0.1:54
}}

Save.

{{Reload Tor}}

Test if you wish.

{{CodeSelect|code=
{{Curl_Plain}} {{Curl Secure}} -H 'Host: check.torproject.org' -k https://{{Check.torproject.org IP}} | grep IP
}}
}}

= See Also =
* [[Whonix-Gateway System DNS|Getting the global system DNS resolver working on Whonix-Gateway (usually recommended against and unnecessary)]]

= Footnotes =
{{reflist|close=1}}

{{Footer}}

[[Category:Documentation]]
